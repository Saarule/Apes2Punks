// SPDX-License-Identifier: MIT

pragma solidity >=0.8.0 <0.9.0;

import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Enumerable.sol";
import "@openzeppelin/contracts/access/Ownable.sol";
import "./Base64.sol";
import "./Apes2.sol";

contract Apes2Punks is ERC721Enumerable, Ownable {
  using Strings for uint256;

   struct Ape { 
      string name;
      string description;
      string num1;
      string num2;
      string num3;
      string num4;
      string num5;
      string num6;
      uint256 timestamp;
   }
   
   mapping (uint256 => Ape) public apes;
   uint256 public cost = 1 ether;
   
   constructor() ERC721("Apes 2 Punks", "A2P") {}

  // public
  function mint() public payable {
    uint256 supply = totalSupply();
    
    Ape memory newApe = Ape(
        string(abi.encodePacked('Apes 2 Punks #', uint256(supply + 1).toString())), 
        "Apes on Chain are dynamic on-chain generated NFTs. The Apes are living on the blockchain and evolving as time passes. The NFT's image is dynamic and changes as the Ape evolves into a Punk. The price is also dynamic and with every mint call on the smart contract, the price is increasing by 10%. it is a self-contained mechanism for generating NFTs.",
        randomNum(361, block.difficulty, supply).toString(),
        randomNum(361, block.timestamp, supply).toString(),
        randomNum(361, block.difficulty, block.timestamp).toString(),
        randomNum(361, block.difficulty+10, supply).toString(),
        randomNum(361, block.timestamp, supply+20).toString(),
        randomNum(361, block.difficulty+30, block.timestamp).toString(),
        block.timestamp
        );
    
    if (msg.sender != owner()) {
      require(msg.value >= cost);
    }
    
    apes[supply + 1] = newApe;
    _safeMint(msg.sender, supply + 1);
    cost = (cost * 110) / 100;
  }

  function randomNum(uint256 _mod, uint256 _seed, uint _salt) public view returns(uint256) {
      uint256 num = uint(keccak256(abi.encodePacked(block.timestamp, msg.sender, _seed, _salt)));
      num = uint(keccak256(abi.encodePacked(block.timestamp, msg.sender, _seed, _salt, num))) % _mod;
      return num;
  }
  
  function buildImage(uint256 _tokenId, uint256 maturity) public view returns(string memory) {
      Ape memory currentApe = apes[_tokenId];
      bytes memory imagePart1 = bytes(
          abi.encodePacked(
              '<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="500pt" height="500pt" viewBox="0 0 250.000000 500.000000" preserveAspectRatio="xMidYMid meet">',
              '<g transform="translate(0.000000,610.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">',
              '<defs>',
              '<linearGradient cx="0.25" cy="0.25" r="0.75" id="gradBackground" gradientTransform="rotate(45)">',
              '<stop offset="0%" stop-color="hsl(',currentApe.num1,', 100%, 90%)"/>',
              '<stop offset="50%" stop-color="hsl(',currentApe.num2,', 100%, 90%)"/>',
              '<stop offset="100%" stop-color="hsl(',currentApe.num3,', 100%, 90%)"/>',
              '</linearGradient>',
              '</defs>'
          )
      );
      bytes memory imagePart2 = bytes(
          abi.encodePacked(
              '<defs>',
              '<linearGradient cx="0.25" cy="0.25" r="0.75" id="grad1" gradientTransform="rotate(45)">',
              '<stop offset="0%" stop-color="hsl(',currentApe.num4,', 20%, 15%)"/>',
              '<stop offset="50%" stop-color="hsl(',currentApe.num5,', 20%, 15%)"/>',
              '<stop offset="100%" stop-color="hsl(',currentApe.num6,', 20%, 15%)"/>',
              '</linearGradient>',
              '</defs>'
          )
      );
      bytes memory imagePart3;
      if(maturity == 0) {
          imagePart3 = bytes(
          abi.encodePacked(
              '<rect x="-3000" height="10000" width="12000" fill="url(#gradBackground)"/>',
              '<path fill="url(#grad1)" d="M1710 4413 c-8 -3 -28 -15 -43 -25 -19 -13 -36 -18 -53 -14 -20 5 -32 0 -57 -26 -18 -18 -61 -52 -97 -76 -56 -38 -70 -43 -103 -39 -45 6 -134 -21 -174 -53 -18 -14 -35 -19 -52 -15 -14 3 -33 0 -41 -6 -12 -8 -8 -9 15 -5 l30 6 -25 -15 c-30 -17 -54 -19 -44 -4 3 6 -22 -4 -56 -23 -44 -23 -76 -51 -111 -95 -27 -34 -61 -69 -76 -77 -67 -34 -193 -192 -193 -241 0 -9 -7 -29 -15 -45 -8 -16 -16 -40 -17 -54 -1 -14 -7 -22 -15 -19 -20 8 -124 -97 -148 -150 -12 -26 -42 -65 -66 -86 -56 -49 -103 -133 -95 -167 4 -14 2 -24 -4 -24 -5 0 -10 7 -10 16 0 27 -23 1 -55 -61 -24 -49 -27 -63 -22 -118 12 -123 19 -141 63 -176 28 -22 50 -28 39 -11 -12 20 12 9 35 -15 13 -14 34 -25 47 -25 13 0 32 -9 44 -21 14 -14 30 -19 50 -17 23 2 35 -3 49 -22 16 -21 20 -22 36 -10 15 12 16 12 9 1 -5 -10 -4 -12 3 -7 7 4 22 0 34 -8 21 -15 20 -15 -23 -14 -27 0 -61 -8 -84 -20 -42 -21 -85 -57 -85 -71 0 -4 -11 -13 -26 -19 -14 -7 -31 -27 -39 -46 -8 -19 -29 -45 -46 -58 -17 -12 -43 -35 -58 -49 -14 -14 -36 -29 -48 -33 -12 -4 -41 -28 -64 -54 -34 -37 -40 -47 -27 -50 10 -2 15 -9 11 -18 -3 -9 2 -14 18 -16 13 0 30 -2 38 -2 8 -1 19 -10 25 -21 6 -10 19 -28 28 -39 13 -14 16 -31 13 -63 -2 -23 0 -43 6 -43 9 0 13 21 10 55 -1 15 1 17 10 8 7 -7 9 -21 3 -40 -4 -15 -8 -37 -8 -47 -1 -11 -7 -21 -15 -24 -9 -3 -11 1 -6 17 4 15 2 21 -9 21 -8 0 -21 10 -27 22 -7 13 -23 31 -36 41 -25 20 -30 46 -12 64 15 15 -2 45 -19 34 -7 -4 -14 -17 -15 -28 0 -13 -6 -19 -14 -16 -8 3 -13 -3 -13 -15 0 -11 6 -23 13 -25 9 -4 9 -6 0 -6 -13 -1 38 -85 59 -97 8 -5 5 -10 -8 -15 -18 -7 -17 -8 3 -8 22 -1 44 -21 23 -21 -8 0 -8 -4 0 -12 6 -7 16 -21 23 -30 7 -10 30 -20 56 -23 24 -3 53 -12 64 -20 16 -11 45 -15 107 -13 l85 1 -65 7 c-64 6 -63 9 5 23 18 4 18 5 -2 6 -13 0 -23 6 -23 12 0 11 11 10 103 -8 16 -3 27 -1 27 6 0 6 -18 11 -42 12 -24 1 -54 5 -68 9 l-25 8 25 2 c22 2 23 3 5 9 -11 4 -32 12 -47 19 -16 7 -38 16 -51 21 -16 6 -28 25 -41 66 l-18 57 24 25 c13 14 37 32 53 40 17 8 44 28 60 44 35 32 120 80 151 84 11 1 42 16 68 34 57 40 149 81 179 81 12 0 33 7 45 16 12 8 27 12 32 9 6 -3 10 1 10 10 0 9 5 13 10 10 16 -10 12 -45 -4 -39 -19 7 -41 -37 -50 -100 -3 -27 -13 -57 -22 -67 -11 -12 -13 -25 -8 -41 4 -13 6 -39 5 -59 -3 -40 9 -54 56 -63 23 -5 35 -16 44 -39 7 -18 14 -35 17 -39 2 -5 -25 -9 -60 -10 l-63 -2 58 -3 c48 -3 57 -7 57 -23 0 -17 -9 -20 -82 -23 l-83 -3 83 -2 c81 -2 112 -17 50 -25 l-33 -4 32 -1 c18 -1 49 -13 69 -27 20 -14 45 -25 55 -25 10 0 21 -4 24 -10 3 -5 2 -10 -3 -10 -5 0 -79 -3 -163 -7 -85 -3 -210 -6 -279 -6 -94 1 -109 -1 -62 -6 35 -3 352 -4 705 -1 353 3 644 2 647 -2 7 -9 286 -26 579 -34 146 -5 227 -11 219 -16 -8 -6 -1 -8 21 -4 18 3 48 6 65 7 29 1 28 2 -9 9 -22 4 -141 11 -265 14 -414 12 -610 24 -576 35 10 4 -158 6 -373 4 -240 -1 -393 2 -396 7 -4 6 29 11 82 11 48 1 122 5 163 9 l75 7 -60 2 -60 1 45 21 c29 13 61 19 92 18 26 -2 51 0 54 4 4 4 -20 7 -54 7 -48 0 -62 3 -62 15 0 13 23 15 138 17 l137 2 -135 3 c-74 2 -139 8 -143 12 -5 5 -24 3 -43 -5 -20 -9 -34 -10 -34 -4 0 5 -16 10 -35 10 -63 0 -114 28 -134 74 -28 61 -33 84 -21 91 5 3 8 18 5 33 -16 77 -20 120 -14 152 23 114 31 173 23 179 -33 24 -34 115 -1 184 51 111 67 148 83 197 l18 55 8 -31 c4 -18 15 -37 23 -44 8 -7 15 -23 15 -35 0 -12 17 -41 37 -65 20 -23 38 -51 40 -61 2 -11 12 -37 23 -59 11 -21 19 -56 19 -77 -1 -67 17 -187 34 -225 16 -34 16 -46 3 -134 -16 -107 -15 -114 38 -155 24 -19 36 -21 89 -16 70 7 97 15 97 29 0 6 -8 7 -17 3 -10 -3 -46 -9 -80 -12 l-63 -6 0 48 c0 53 6 57 13 10 3 -19 9 -29 18 -26 8 1 29 5 48 6 19 2 37 9 41 16 6 8 14 5 29 -10 11 -11 24 -21 29 -21 11 1 52 96 52 124 0 14 -4 28 -10 31 -6 3 -10 -4 -10 -18 0 -13 -9 -36 -20 -50 -11 -14 -20 -31 -20 -38 0 -7 -2 -10 -5 -7 -3 3 -3 25 1 49 6 34 9 39 15 24 4 -11 6 23 3 75 -3 54 -1 112 5 135 10 37 10 36 5 -22 -5 -64 2 -113 17 -113 5 0 9 12 9 26 0 14 -4 23 -10 19 -5 -3 -10 -1 -10 4 0 6 5 11 10 11 21 0 2 183 -21 204 -8 8 -10 -2 -5 -39 3 -27 3 -44 -1 -36 -4 10 -9 8 -20 -10 -14 -23 -14 -23 -10 11 7 54 -20 97 -57 91 -5 -1 -6 5 -2 14 3 9 6 20 6 23 0 4 5 0 10 -8 8 -13 10 -12 10 3 0 9 -5 17 -10 17 -16 0 -30 46 -33 105 -1 29 -5 51 -8 49 -8 -5 -44 87 -40 105 1 7 -2 10 -8 6 -6 -3 -11 -1 -11 4 0 6 -3 11 -8 11 -4 0 -6 -19 -5 -42 l3 -43 -15 40 c-10 25 -12 41 -5 43 13 5 13 32 0 32 -5 0 -10 12 -10 26 0 14 -4 23 -10 19 -6 -4 -10 7 -10 25 0 32 20 34 20 2 1 -18 30 -63 30 -45 0 6 -6 26 -14 44 -26 66 -28 74 -32 107 -2 17 1 32 6 32 6 0 10 -10 11 -22 1 -22 1 -22 8 2 4 14 3 39 -2 55 -9 30 -13 57 -15 109 -2 21 -6 27 -17 22 -9 -3 -15 0 -15 9 0 11 6 12 23 6 15 -6 24 -19 29 -47 6 -34 6 -32 4 14 -3 49 5 67 18 40 3 -7 4 23 0 67 -6 87 -32 160 -70 196 -26 24 -35 61 -10 40 11 -9 16 -6 25 16 18 42 65 93 91 98 12 2 31 12 40 20 15 14 54 23 160 39 9 1 20 5 25 8 6 3 30 4 55 2 52 -3 130 16 213 54 92 42 102 85 35 158 -31 34 -38 48 -30 56 18 18 14 42 -7 55 -11 7 -25 28 -32 48 -7 19 -16 35 -20 35 -11 0 7 -58 27 -88 12 -18 13 -27 6 -30 -20 -6 -13 -27 19 -58 27 -26 59 -73 59 -89 0 -3 -7 -5 -15 -5 -8 0 -15 -4 -15 -10 0 -5 5 -10 11 -10 23 0 -6 -22 -58 -46 -56 -24 -79 -31 -54 -15 12 8 12 13 -2 35 -9 14 -14 31 -11 39 3 8 -2 17 -10 20 -9 4 -16 11 -16 18 0 6 7 9 15 6 11 -5 12 -1 5 19 -13 33 -13 34 5 34 8 0 24 18 35 40 24 47 24 50 5 50 -9 0 -18 12 -21 29 -4 17 -11 28 -18 25 -14 -5 -37 -74 -25 -74 5 0 9 -7 9 -16 0 -8 4 -13 9 -10 5 3 11 -1 15 -9 8 -22 -7 -25 -42 -8 -32 15 -34 15 -48 -6 -19 -27 -39 -29 -24 -2 16 30 12 44 -10 38 -24 -6 -24 -6 -5 39 8 19 14 38 14 42 -3 19 2 23 15 13 11 -9 20 -6 44 14 17 14 47 29 67 32 19 3 35 8 35 12 0 3 -17 17 -37 31 -20 14 -57 44 -81 67 -24 23 -60 47 -80 53 -39 10 -127 12 -152 3z m-215 -387 c2 -18 12 -50 23 -70 26 -49 28 -145 4 -174 -9 -11 -22 -29 -29 -39 -9 -14 -10 -10 -3 22 6 28 5 42 -3 47 -9 6 -9 8 1 8 6 0 12 5 12 12 0 6 -9 3 -20 -7 -20 -19 -28 -41 -10 -30 15 9 12 -14 -4 -30 -25 -25 -26 52 -2 98 11 21 22 34 24 28 4 -12 32 -3 32 11 0 5 -4 7 -9 4 -5 -3 -16 12 -25 34 -19 47 -30 54 -14 9 12 -34 5 -51 -10 -22 -16 31 -24 75 -12 68 10 -6 15 13 12 48 -1 9 3 17 9 17 5 0 7 5 4 10 -4 6 -11 8 -16 5 -10 -7 -12 8 -2 18 10 11 35 -32 38 -67z m-45 -370 c0 -19 9 -43 20 -56 11 -13 20 -31 20 -42 0 -10 5 -18 10 -18 6 0 10 -8 10 -18 0 -11 7 -33 16 -51 9 -18 18 -51 21 -74 l4 -42 -17 27 c-16 25 -19 25 -41 11 -21 -14 -23 -14 -32 8 -4 13 -5 34 0 46 6 15 1 41 -16 84 -34 86 -31 107 4 34 16 -33 30 -56 30 -52 1 9 -21 63 -43 108 -14 28 -10 83 5 73 5 -3 9 -20 9 -38z"/>',
              '</g>',
              '</svg>'
          ));
      }
      else if(maturity == 1) {
          imagePart3 = Apes2.Apes2String();
      }
      else if(maturity == 2) {
          imagePart3 = bytes(
          abi.encodePacked(
              '<rect x="-3000" height="10000" width="12000" fill="url(#gradBackground)"/>',
              '<path fill="url(#grad1)" d="M6005 6201 c-16 -5 -61 -23 -98 -40 -38 -17 -77 -31 -88 -31 -23 0 -89 -57 -89 -76 0 -8 -7 -26 -16 -39 -8 -13 -24 -62 -33 -110 -19 -89 -30 -116 -32 -74 -1 45 -49 -126 -49 -177 l0 -52 -97 -22 c-54 -13 -134 -36 -178 -51 -105 -37 -258 -65 -415 -75 -101 -6 -255 -40 -307 -68 -39 -20 -63 -52 -63 -85 0 -42 30 -108 54 -119 43 -19 133 -25 188 -11 29 7 60 13 68 14 18 1 133 46 140 54 10 11 56 30 90 37 19 3 55 16 80 27 90 39 341 129 346 124 2 -2 -21 -27 -51 -56 -30 -30 -55 -61 -55 -68 0 -8 -9 -28 -21 -44 -11 -16 -22 -41 -24 -54 -1 -14 -7 -30 -12 -37 -6 -7 -14 -31 -18 -53 -10 -53 -12 -344 -2 -348 4 -1 10 -67 13 -147 3 -80 12 -165 20 -189 7 -24 11 -47 9 -52 -3 -4 -9 -48 -14 -96 -6 -70 -14 -98 -37 -138 -17 -27 -38 -79 -48 -115 -10 -36 -22 -78 -27 -94 -18 -58 -9 -153 14 -139 6 3 7 1 3 -5 -4 -7 7 -25 24 -42 31 -31 32 -32 20 -81 -23 -94 -36 -238 -34 -360 3 -121 2 -123 -27 -166 -17 -23 -37 -43 -45 -43 -26 0 -104 -82 -171 -180 -36 -52 -68 -102 -71 -110 -3 -8 -18 -32 -34 -52 -16 -21 -27 -42 -24 -47 4 -5 -21 -45 -54 -88 -86 -112 -101 -129 -135 -146 -97 -49 -93 -151 7 -203 15 -8 29 -13 30 -12 8 7 49 -32 44 -41 -4 -6 2 -27 13 -48 10 -21 24 -57 31 -81 6 -24 13 -49 16 -57 4 -11 -7 -15 -48 -18 l-53 -3 57 -2 c56 -2 95 -22 42 -22 -15 0 -25 -2 -22 -5 11 -12 87 -16 318 -18 135 -1 214 1 175 4 -38 4 -105 7 -147 8 -111 2 -99 21 15 23 l92 2 -89 5 c-62 4 -91 10 -94 20 -3 10 14 12 91 10 52 -2 90 0 84 4 -7 4 -57 7 -112 5 -116 -3 -141 3 -149 37 -4 14 -13 25 -21 25 -9 0 -12 -6 -9 -15 4 -8 10 -15 15 -15 5 0 9 -4 9 -10 0 -5 -6 -10 -14 -10 -19 0 -32 60 -16 70 10 6 8 20 -6 61 -23 69 -23 150 1 186 28 43 117 133 125 128 4 -3 29 21 55 53 73 89 149 164 205 202 28 19 74 52 103 73 29 21 62 40 75 44 27 7 49 46 58 104 8 54 16 69 55 111 17 18 42 57 56 86 l25 54 29 -28 c16 -15 29 -24 29 -19 0 4 9 0 20 -10 11 -10 20 -24 20 -31 0 -17 48 -54 71 -54 32 0 69 -99 69 -185 0 -28 4 -55 9 -60 6 -6 12 -26 14 -45 5 -45 81 -218 118 -270 39 -54 104 -202 135 -309 29 -101 26 -180 -7 -188 -24 -7 -25 -20 -1 -26 9 -3 -21 -5 -68 -6 -47 -1 -90 -5 -97 -9 -6 -4 35 -6 92 -4 l104 4 7 -26 c3 -14 14 -27 23 -28 9 0 -4 -4 -29 -8 -40 -6 -37 -7 30 -8 41 -1 93 3 115 8 24 6 81 7 140 3 l100 -7 -125 -12 -125 -12 150 5 c83 3 152 10 153 14 2 5 21 9 42 9 45 0 90 18 90 36 0 8 30 14 98 19 53 3 102 8 107 11 6 2 -36 2 -92 -1 l-102 -6 -3 48 c-3 44 -5 48 -31 51 -16 2 -35 -2 -42 -8 -23 -19 -73 -4 -157 45 l-76 44 -35 88 c-61 153 -131 454 -157 673 -7 58 -19 115 -27 127 -9 14 -12 33 -8 56 7 34 -9 80 -40 117 -12 15 -28 73 -31 116 0 11 -8 31 -17 45 -9 13 -25 47 -36 75 -11 29 -36 77 -55 107 -20 31 -36 63 -36 72 0 20 -22 53 -83 130 -27 33 -55 76 -63 95 -8 19 -20 38 -27 42 -8 5 -7 8 6 8 9 0 17 -4 17 -9 0 -5 33 -30 73 -54 39 -25 84 -55 99 -66 14 -12 31 -21 36 -21 11 0 81 -83 97 -115 6 -11 16 -21 23 -21 47 -5 47 -5 24 -15 l-24 -9 26 -31 c14 -17 26 -37 26 -45 0 -8 5 -14 10 -14 6 0 10 3 10 6 0 12 -24 50 -38 60 -10 7 -11 13 -4 18 6 3 19 -5 30 -19 17 -21 22 -22 37 -11 17 12 17 14 0 39 -9 15 -15 33 -13 39 3 7 -4 21 -15 31 -18 19 -19 18 -12 -2 3 -12 2 -21 -3 -21 -13 0 -49 45 -57 71 -7 23 -6 23 7 5 9 -11 20 -16 27 -11 9 5 5 15 -15 36 -35 37 -20 38 20 2 20 -19 24 -20 12 -5 -11 12 -15 22 -10 22 17 -1 42 -25 46 -45 2 -13 11 -20 26 -19 15 0 22 -5 22 -17 0 -10 4 -20 9 -23 4 -3 6 -16 4 -30 -3 -13 0 -32 6 -43 9 -14 11 -8 7 32 -4 46 -3 48 10 30 9 -11 14 -34 12 -52 -5 -41 8 -43 15 -3 8 42 12 54 19 65 17 28 -81 166 -155 219 -58 41 -107 88 -102 96 3 5 -6 15 -20 24 -29 19 -39 20 -29 4 4 -7 -9 3 -29 21 -21 19 -37 37 -37 40 0 3 5 0 12 -7 7 -7 17 -12 22 -12 6 0 -21 31 -59 70 l-69 69 24 51 c13 28 26 46 30 40 6 -10 50 135 69 228 6 30 11 112 11 183 0 71 2 129 4 129 2 0 30 -12 62 -26 75 -33 234 -74 288 -74 51 0 103 31 112 66 10 40 -3 203 -18 222 -8 9 -8 13 -1 9 7 -5 9 0 6 13 -3 11 -9 17 -14 14 -5 -3 -6 2 -3 10 6 16 -9 50 -36 81 -10 11 -17 27 -17 35 0 8 -13 35 -29 59 -16 24 -47 72 -69 107 -22 34 -68 93 -103 129 -67 72 -68 82 -14 104 16 7 36 25 45 40 21 36 22 53 1 26 -13 -17 -16 -18 -25 -5 -8 12 -9 10 -4 -7 4 -14 2 -23 -4 -23 -6 0 -11 21 -10 48 0 76 -5 100 -24 112 -16 9 -19 8 -24 -9 -5 -21 -23 -30 -23 -12 0 27 16 42 51 47 60 10 68 27 32 72 -41 51 -53 76 -53 110 0 37 -22 57 -47 44 -10 -6 -35 -15 -56 -20 -36 -10 -41 -9 -63 15 l-24 26 6 -49 c9 -68 21 -80 50 -53 32 30 130 52 121 27 -2 -7 -10 -12 -16 -10 -6 1 -14 -5 -17 -13 -4 -8 -16 -15 -28 -15 -12 0 -31 -7 -42 -16 -16 -13 -16 -15 -1 -10 9 3 17 1 17 -4 0 -6 7 -10 15 -10 10 0 12 -6 8 -17 -6 -16 -5 -17 11 -3 18 14 18 13 11 -19 -5 -26 -4 -32 6 -29 8 3 14 16 15 29 1 13 2 26 3 29 2 3 4 15 5 27 3 27 17 43 23 26 2 -7 17 -31 33 -55 30 -45 30 -51 -7 -63 -19 -5 -23 -2 -23 15 0 12 5 18 10 15 6 -3 10 -1 10 4 0 6 -7 11 -15 11 -8 0 -15 -7 -15 -16 0 -9 -8 -22 -17 -29 -17 -13 -25 -65 -11 -75 10 -8 -2 -80 -13 -80 -5 0 -9 8 -10 18 -1 11 -4 9 -9 -8 -8 -25 -8 -25 -10 5 -3 28 -3 28 -8 5 -4 -23 -5 -24 -13 -5 -7 18 -8 17 -8 -7 -1 -15 -5 -29 -9 -32 -12 -7 -10 98 2 107 7 6 4 7 -6 3 -19 -6 -25 9 -8 19 13 8 4 41 -19 72 -19 27 -25 28 -44 9 -13 -13 -14 -6 -12 55 2 42 0 67 -6 63 -6 -3 -7 -15 -4 -27 2 -12 2 -16 -1 -9 -3 6 -10 9 -16 6 -11 -7 -11 -6 12 39 11 23 11 30 1 36 -9 6 -4 15 20 34 35 27 60 26 54 -3 -3 -17 22 -37 33 -25 3 3 0 5 -7 5 -9 0 -8 6 3 21 8 12 12 27 9 35 -7 19 27 31 38 13 4 -8 15 -23 24 -34 9 -11 7 -4 -4 15 -12 19 -28 52 -37 72 -12 26 -26 40 -48 47 -48 16 -108 21 -141 12z m-65 -848 c0 -5 -16 -25 -35 -46 -19 -21 -35 -43 -35 -48 0 -12 19 6 43 41 9 13 17 20 17 14 0 -6 -9 -23 -21 -38 -11 -14 -18 -26 -14 -26 3 0 -1 -11 -10 -23 -12 -19 -13 -33 -6 -63 5 -21 9 -31 10 -21 1 9 6 17 12 17 8 0 9 -15 4 -47 -4 -27 -9 -64 -10 -83 -1 -20 -8 -46 -15 -59 -22 -43 -51 -183 -43 -210 5 -14 6 -48 2 -76 -3 -27 -7 -42 -7 -32 -2 21 -22 23 -22 1 0 -8 -4 -13 -8 -10 -5 3 -10 26 -11 53 -1 26 -7 51 -14 55 -9 6 -8 8 3 8 21 0 46 68 31 83 -6 6 -7 17 -2 26 5 9 9 36 9 61 1 24 6 46 11 48 6 2 11 11 11 20 0 13 2 14 9 4 5 -9 11 13 15 58 8 79 4 94 -19 64 -12 -15 -14 -15 -9 -2 5 14 0 17 -27 15 -20 -1 -34 3 -37 12 -3 10 1 12 17 8 14 -3 21 -1 18 6 -2 7 -16 13 -30 15 -15 2 -25 7 -22 12 8 13 -21 67 -42 79 -10 6 -13 11 -6 11 6 0 24 -11 40 -24 30 -25 57 -22 58 6 1 7 6 12 13 11 17 -4 15 5 -9 38 -24 34 -9 39 20 7 18 -19 21 -19 27 -5 3 10 12 17 19 17 7 0 18 7 25 15 13 16 40 21 40 8z m69 -235 c1 -5 -6 -8 -14 -8 -8 0 -15 -5 -15 -11 0 -6 7 -9 15 -6 11 5 13 0 8 -26 -3 -18 -3 -29 1 -25 8 7 14 30 16 63 1 18 2 17 11 -4 6 -16 6 -28 -1 -35 -5 -5 -10 -17 -10 -25 1 -13 3 -12 15 3 13 18 15 18 21 2 5 -14 9 -15 15 -4 6 9 9 7 9 -9 0 -13 8 -24 20 -28 11 -3 20 -15 20 -26 0 -10 5 -19 11 -19 7 0 8 7 4 18 -13 31 -16 72 -7 72 6 0 13 -16 17 -36 10 -55 16 -34 9 30 -4 31 -9 54 -12 52 -6 -7 -42 39 -42 53 0 6 7 11 15 11 8 0 15 -7 15 -15 0 -8 4 -15 9 -15 13 0 31 -81 31 -137 0 -49 -32 -119 -49 -108 -5 3 -16 -2 -25 -11 -9 -8 -20 -12 -26 -9 -15 9 -12 25 5 25 13 0 14 2 3 14 -9 10 -17 11 -25 4 -10 -8 -13 -6 -13 6 0 21 -25 48 -35 38 -5 -4 -5 -1 0 7 4 7 3 16 -4 20 -6 4 -13 16 -15 27 -3 10 -16 42 -30 69 -27 53 -32 70 -17 61 5 -4 12 0 14 6 3 7 6 2 6 -11 1 -20 3 -21 16 -11 8 7 15 20 16 29 0 12 2 11 9 -4 5 -11 9 -23 9 -27z m97 -284 c-5 -12 -2 -15 10 -10 14 5 16 1 11 -29 -3 -19 -1 -37 4 -40 5 -4 9 -11 9 -16 0 -6 -4 -7 -10 -4 -6 4 -10 -5 -10 -20 0 -14 4 -24 8 -21 10 6 5 -51 -15 -151 -13 -67 -19 -81 -30 -72 -15 13 -18 53 -4 44 13 -7 22 49 18 100 -3 22 -5 46 -6 54 -1 11 -8 8 -23 -9 -20 -21 -23 -22 -26 -7 -2 9 -10 17 -18 17 -25 0 -7 17 25 23 33 7 49 36 26 49 -14 8 -14 11 0 24 19 20 19 54 0 54 -23 0 -18 18 8 23 12 2 24 5 26 6 2 0 0 -6 -3 -15z m-162 -594 c36 -39 78 -88 92 -110 15 -22 30 -40 34 -40 4 0 29 -28 56 -62 l49 -63 -54 47 c-30 26 -58 45 -63 42 -4 -3 -8 2 -8 12 0 12 -6 15 -25 12 -13 -3 -22 -1 -19 3 12 20 -9 30 -28 13 -19 -18 -19 -17 -9 8 8 22 7 26 -4 22 -8 -3 -21 6 -31 21 -9 14 -23 24 -30 21 -8 -3 -14 1 -14 8 0 7 -7 19 -15 26 -11 9 -12 15 -5 20 7 4 2 14 -11 26 -22 19 -22 19 -10 -3 9 -17 9 -23 0 -23 -8 0 -8 -4 1 -15 10 -12 9 -15 -5 -15 -15 0 -16 -2 -4 -17 9 -12 3 -10 -18 5 -18 13 -35 27 -38 32 -4 6 -11 10 -17 10 -6 0 -5 -7 3 -17 13 -16 12 -17 -4 -4 -9 8 -15 16 -12 19 3 3 -5 16 -17 29 -24 25 -20 43 5 19 8 -8 18 -12 22 -8 4 4 5 2 3 -4 -1 -6 12 -23 30 -38 24 -21 32 -24 32 -12 0 9 -4 16 -10 16 -5 0 -10 7 -10 16 0 8 5 12 10 9 6 -4 5 5 -2 19 -16 37 -3 43 33 17 29 -21 30 -22 20 -3 -30 56 -2 41 73 -38z m49 -508 c34 -57 62 -111 62 -121 0 -9 6 -16 12 -16 16 0 75 -92 98 -151 14 -36 15 -51 6 -71 -8 -18 -8 -22 0 -17 8 4 9 -1 5 -17 -6 -20 -5 -21 4 -6 6 9 8 22 5 27 -3 6 -2 10 3 10 4 0 16 -26 26 -57 10 -32 29 -75 42 -95 13 -21 25 -46 26 -55 3 -36 -2 -63 -12 -63 -5 0 -7 6 -5 13 3 6 -4 18 -15 25 -20 12 -20 11 -10 -7 9 -17 8 -20 -5 -15 -9 4 -25 24 -35 45 -24 46 -26 60 -5 33 15 -19 15 -19 8 1 -6 18 -5 18 10 6 21 -17 22 -2 2 25 -8 10 -15 27 -15 36 0 9 -5 20 -12 24 -7 5 -9 0 -6 -14 5 -18 3 -19 -16 -11 -25 12 -47 60 -41 91 4 21 -30 88 -44 88 -4 0 -13 12 -19 26 -7 14 -16 23 -21 20 -5 -3 -17 6 -26 20 l-17 27 -20 -32 c-20 -31 -21 -31 -41 -14 -19 18 -19 17 -12 -7 l8 -25 -21 25 c-13 16 -16 27 -10 31 6 4 8 14 5 24 -4 9 -12 13 -17 10 -11 -7 -65 43 -57 51 2 3 10 -2 16 -10 7 -8 20 -12 29 -9 15 4 15 3 2 -6 -15 -10 -13 -12 12 -15 7 0 17 -11 23 -22 15 -31 37 -55 43 -49 3 3 -3 14 -13 25 -10 11 -13 20 -7 20 6 0 16 -8 21 -17 6 -10 11 -14 11 -9 0 20 -52 96 -65 96 -8 0 -15 5 -15 10 0 20 -48 63 -64 57 -10 -4 -13 -1 -10 8 4 8 -8 29 -27 47 -18 18 -33 40 -34 48 0 8 -5 14 -10 13 -6 -1 -11 7 -11 18 0 24 16 9 43 -41 11 -19 24 -34 29 -33 5 1 17 -5 26 -14 32 -29 37 -8 8 34 -16 23 -25 45 -20 48 6 4 10 0 10 -8 0 -7 23 -38 50 -67 46 -49 65 -80 40 -65 -19 12 -10 -6 23 -45 17 -22 38 -40 45 -40 12 0 -42 86 -117 187 -13 17 -20 36 -17 42 11 16 26 13 20 -4 -4 -8 7 -27 25 -46 17 -17 31 -36 31 -43 0 -20 30 -56 47 -56 14 0 14 2 0 23 -9 12 -38 59 -66 105 -50 83 -44 93 11 18 37 -52 36 -36 -2 19 -16 24 -30 47 -30 51 0 21 48 -41 103 -134z m-1313 -1303 c0 -8 4 -8 14 0 10 8 16 9 21 1 3 -6 11 -7 17 -4 8 5 9 1 5 -10 -4 -11 -3 -15 4 -11 5 4 21 8 35 10 19 2 24 -1 20 -12 -10 -24 5 -36 20 -16 14 17 15 16 9 -7 -4 -18 0 -14 15 13 24 43 38 51 16 8 -17 -32 -16 -95 2 -113 9 -9 12 -8 12 4 0 9 7 31 15 49 l15 34 -5 -40 c-4 -30 -3 -35 4 -20 9 18 10 18 10 -7 1 -18 -5 -29 -19 -33 -31 -10 -24 -28 8 -21 25 7 26 6 7 -7 -11 -8 -31 -17 -43 -20 -22 -5 -23 -3 -17 21 4 15 3 24 0 20 -12 -12 -35 19 -36 49 -1 17 -3 21 -6 11 -2 -10 -9 -18 -15 -18 -6 0 -8 9 -5 20 3 11 1 20 -4 20 -5 0 -9 -9 -9 -21 0 -12 -4 -17 -11 -14 -6 4 -8 13 -5 21 3 8 1 14 -4 14 -6 0 -10 -8 -11 -17 -1 -12 -4 -9 -8 7 -4 14 -13 24 -19 23 -7 -2 -13 7 -14 20 0 12 -4 2 -8 -23 l-7 -45 -1 48 c-2 44 -22 70 -22 27 0 -11 -4 -20 -10 -20 -13 0 -13 13 2 45 11 26 28 34 28 14z m1750 -318 c24 -35 66 -40 48 -6 -10 18 -9 18 4 7 11 -9 18 -10 23 -2 10 17 25 11 18 -7 -6 -16 -5 -16 10 -4 11 9 17 10 17 2 0 -6 5 -11 11 -11 7 0 9 9 6 21 -4 16 -3 18 9 8 8 -6 14 -18 14 -25 0 -8 6 -11 15 -8 12 5 12 0 5 -28 -11 -35 -13 -54 -6 -47 2 2 5 8 5 12 0 4 7 15 16 23 8 9 13 19 10 24 -3 4 4 6 15 3 11 -3 20 -12 20 -19 0 -8 12 -19 26 -24 38 -15 48 -12 33 7 -12 14 -12 16 1 11 24 -8 66 -18 53 -12 -15 7 -17 33 -3 36 30 4 35 1 35 -24 1 -23 -3 -28 -25 -28 -18 0 -29 -9 -40 -33 -18 -38 -57 -44 -78 -12 -12 19 -13 19 -6 -4 4 -16 3 -21 -5 -17 -14 9 -14 49 -1 62 6 6 8 18 4 27 -12 33 -24 16 -24 -35 0 -49 -1 -51 -16 -32 -8 10 -13 12 -9 4 4 -8 0 -7 -9 4 -14 18 -15 17 -22 -9 l-7 -28 -13 24 c-9 16 -14 19 -14 9 -1 -10 -3 -11 -7 -2 -2 6 -9 12 -14 12 -4 0 -6 -7 -3 -15 8 -21 -8 -19 -33 5 -15 14 -23 16 -26 7 -3 -7 -6 -4 -6 6 -1 9 -8 17 -17 17 -11 0 -15 -6 -11 -20 3 -11 1 -18 -4 -14 -5 3 -9 14 -9 26 0 14 -5 18 -16 14 -9 -3 -18 -6 -20 -6 -2 0 -4 -7 -4 -16 0 -8 4 -13 9 -10 5 4 7 -3 4 -14 -5 -17 -7 -18 -20 -5 -8 9 -23 20 -34 25 -15 9 -19 7 -19 -5 0 -9 4 -14 9 -10 5 3 13 0 17 -6 4 -7 3 -9 -4 -5 -5 3 -12 0 -15 -6 -2 -7 -8 0 -12 15 -4 17 -13 26 -20 23 -19 -7 -35 15 -34 49 0 16 3 23 6 15 4 -8 12 -21 20 -28 11 -11 13 -10 14 10 1 23 1 23 9 -2 5 -17 8 -19 9 -7 1 20 17 23 24 5 4 -8 8 -5 12 9 7 22 36 22 31 0 -1 -7 -1 -9 1 -4 3 4 13 7 24 7 23 0 25 15 4 24 -8 3 -15 11 -14 18 0 10 2 10 6 1 6 -16 23 -17 23 -3 0 16 -31 24 -40 10 -5 -8 -9 -9 -14 -1 -4 6 -2 11 3 11 6 0 11 7 11 15 0 24 17 18 40 -14z"/>',
              '</g>',
              '</svg>'
          ));
      }
      else if(maturity == 3) {
          imagePart3 = bytes(
          abi.encodePacked(
              '<rect x="-3000" height="10000" width="12000" fill="url(#gradBackground)"/>',
              '<path fill="url(#grad1)" d="M1710 4413 c-8 -3 -28 -15 -43 -25 -19 -13 -36 -18 -53 -14 -20 5 -32 0 -57 -26 -18 -18 -61 -52 -97 -76 -56 -38 -70 -43 -103 -39 -45 6 -134 -21 -174 -53 -18 -14 -35 -19 -52 -15 -14 3 -33 0 -41 -6 -12 -8 -8 -9 15 -5 l30 6 -25 -15 c-30 -17 -54 -19 -44 -4 3 6 -22 -4 -56 -23 -44 -23 -76 -51 -111 -95 -27 -34 -61 -69 -76 -77 -67 -34 -193 -192 -193 -241 0 -9 -7 -29 -15 -45 -8 -16 -16 -40 -17 -54 -1 -14 -7 -22 -15 -19 -20 8 -124 -97 -148 -150 -12 -26 -42 -65 -66 -86 -56 -49 -103 -133 -95 -167 4 -14 2 -24 -4 -24 -5 0 -10 7 -10 16 0 27 -23 1 -55 -61 -24 -49 -27 -63 -22 -118 12 -123 19 -141 63 -176 28 -22 50 -28 39 -11 -12 20 12 9 35 -15 13 -14 34 -25 47 -25 13 0 32 -9 44 -21 14 -14 30 -19 50 -17 23 2 35 -3 49 -22 16 -21 20 -22 36 -10 15 12 16 12 9 1 -5 -10 -4 -12 3 -7 7 4 22 0 34 -8 21 -15 20 -15 -23 -14 -27 0 -61 -8 -84 -20 -42 -21 -85 -57 -85 -71 0 -4 -11 -13 -26 -19 -14 -7 -31 -27 -39 -46 -8 -19 -29 -45 -46 -58 -17 -12 -43 -35 -58 -49 -14 -14 -36 -29 -48 -33 -12 -4 -41 -28 -64 -54 -34 -37 -40 -47 -27 -50 10 -2 15 -9 11 -18 -3 -9 2 -14 18 -16 13 0 30 -2 38 -2 8 -1 19 -10 25 -21 6 -10 19 -28 28 -39 13 -14 16 -31 13 -63 -2 -23 0 -43 6 -43 9 0 13 21 10 55 -1 15 1 17 10 8 7 -7 9 -21 3 -40 -4 -15 -8 -37 -8 -47 -1 -11 -7 -21 -15 -24 -9 -3 -11 1 -6 17 4 15 2 21 -9 21 -8 0 -21 10 -27 22 -7 13 -23 31 -36 41 -25 20 -30 46 -12 64 15 15 -2 45 -19 34 -7 -4 -14 -17 -15 -28 0 -13 -6 -19 -14 -16 -8 3 -13 -3 -13 -15 0 -11 6 -23 13 -25 9 -4 9 -6 0 -6 -13 -1 38 -85 59 -97 8 -5 5 -10 -8 -15 -18 -7 -17 -8 3 -8 22 -1 44 -21 23 -21 -8 0 -8 -4 0 -12 6 -7 16 -21 23 -30 7 -10 30 -20 56 -23 24 -3 53 -12 64 -20 16 -11 45 -15 107 -13 l85 1 -65 7 c-64 6 -63 9 5 23 18 4 18 5 -2 6 -13 0 -23 6 -23 12 0 11 11 10 103 -8 16 -3 27 -1 27 6 0 6 -18 11 -42 12 -24 1 -54 5 -68 9 l-25 8 25 2 c22 2 23 3 5 9 -11 4 -32 12 -47 19 -16 7 -38 16 -51 21 -16 6 -28 25 -41 66 l-18 57 24 25 c13 14 37 32 53 40 17 8 44 28 60 44 35 32 120 80 151 84 11 1 42 16 68 34 57 40 149 81 179 81 12 0 33 7 45 16 12 8 27 12 32 9 6 -3 10 1 10 10 0 9 5 13 10 10 16 -10 12 -45 -4 -39 -19 7 -41 -37 -50 -100 -3 -27 -13 -57 -22 -67 -11 -12 -13 -25 -8 -41 4 -13 6 -39 5 -59 -3 -40 9 -54 56 -63 23 -5 35 -16 44 -39 7 -18 14 -35 17 -39 2 -5 -25 -9 -60 -10 l-63 -2 58 -3 c48 -3 57 -7 57 -23 0 -17 -9 -20 -82 -23 l-83 -3 83 -2 c81 -2 112 -17 50 -25 l-33 -4 32 -1 c18 -1 49 -13 69 -27 20 -14 45 -25 55 -25 10 0 21 -4 24 -10 3 -5 2 -10 -3 -10 -5 0 -79 -3 -163 -7 -85 -3 -210 -6 -279 -6 -94 1 -109 -1 -62 -6 35 -3 352 -4 705 -1 353 3 644 2 647 -2 7 -9 286 -26 579 -34 146 -5 227 -11 219 -16 -8 -6 -1 -8 21 -4 18 3 48 6 65 7 29 1 28 2 -9 9 -22 4 -141 11 -265 14 -414 12 -610 24 -576 35 10 4 -158 6 -373 4 -240 -1 -393 2 -396 7 -4 6 29 11 82 11 48 1 122 5 163 9 l75 7 -60 2 -60 1 45 21 c29 13 61 19 92 18 26 -2 51 0 54 4 4 4 -20 7 -54 7 -48 0 -62 3 -62 15 0 13 23 15 138 17 l137 2 -135 3 c-74 2 -139 8 -143 12 -5 5 -24 3 -43 -5 -20 -9 -34 -10 -34 -4 0 5 -16 10 -35 10 -63 0 -114 28 -134 74 -28 61 -33 84 -21 91 5 3 8 18 5 33 -16 77 -20 120 -14 152 23 114 31 173 23 179 -33 24 -34 115 -1 184 51 111 67 148 83 197 l18 55 8 -31 c4 -18 15 -37 23 -44 8 -7 15 -23 15 -35 0 -12 17 -41 37 -65 20 -23 38 -51 40 -61 2 -11 12 -37 23 -59 11 -21 19 -56 19 -77 -1 -67 17 -187 34 -225 16 -34 16 -46 3 -134 -16 -107 -15 -114 38 -155 24 -19 36 -21 89 -16 70 7 97 15 97 29 0 6 -8 7 -17 3 -10 -3 -46 -9 -80 -12 l-63 -6 0 48 c0 53 6 57 13 10 3 -19 9 -29 18 -26 8 1 29 5 48 6 19 2 37 9 41 16 6 8 14 5 29 -10 11 -11 24 -21 29 -21 11 1 52 96 52 124 0 14 -4 28 -10 31 -6 3 -10 -4 -10 -18 0 -13 -9 -36 -20 -50 -11 -14 -20 -31 -20 -38 0 -7 -2 -10 -5 -7 -3 3 -3 25 1 49 6 34 9 39 15 24 4 -11 6 23 3 75 -3 54 -1 112 5 135 10 37 10 36 5 -22 -5 -64 2 -113 17 -113 5 0 9 12 9 26 0 14 -4 23 -10 19 -5 -3 -10 -1 -10 4 0 6 5 11 10 11 21 0 2 183 -21 204 -8 8 -10 -2 -5 -39 3 -27 3 -44 -1 -36 -4 10 -9 8 -20 -10 -14 -23 -14 -23 -10 11 7 54 -20 97 -57 91 -5 -1 -6 5 -2 14 3 9 6 20 6 23 0 4 5 0 10 -8 8 -13 10 -12 10 3 0 9 -5 17 -10 17 -16 0 -30 46 -33 105 -1 29 -5 51 -8 49 -8 -5 -44 87 -40 105 1 7 -2 10 -8 6 -6 -3 -11 -1 -11 4 0 6 -3 11 -8 11 -4 0 -6 -19 -5 -42 l3 -43 -15 40 c-10 25 -12 41 -5 43 13 5 13 32 0 32 -5 0 -10 12 -10 26 0 14 -4 23 -10 19 -6 -4 -10 7 -10 25 0 32 20 34 20 2 1 -18 30 -63 30 -45 0 6 -6 26 -14 44 -26 66 -28 74 -32 107 -2 17 1 32 6 32 6 0 10 -10 11 -22 1 -22 1 -22 8 2 4 14 3 39 -2 55 -9 30 -13 57 -15 109 -2 21 -6 27 -17 22 -9 -3 -15 0 -15 9 0 11 6 12 23 6 15 -6 24 -19 29 -47 6 -34 6 -32 4 14 -3 49 5 67 18 40 3 -7 4 23 0 67 -6 87 -32 160 -70 196 -26 24 -35 61 -10 40 11 -9 16 -6 25 16 18 42 65 93 91 98 12 2 31 12 40 20 15 14 54 23 160 39 9 1 20 5 25 8 6 3 30 4 55 2 52 -3 130 16 213 54 92 42 102 85 35 158 -31 34 -38 48 -30 56 18 18 14 42 -7 55 -11 7 -25 28 -32 48 -7 19 -16 35 -20 35 -11 0 7 -58 27 -88 12 -18 13 -27 6 -30 -20 -6 -13 -27 19 -58 27 -26 59 -73 59 -89 0 -3 -7 -5 -15 -5 -8 0 -15 -4 -15 -10 0 -5 5 -10 11 -10 23 0 -6 -22 -58 -46 -56 -24 -79 -31 -54 -15 12 8 12 13 -2 35 -9 14 -14 31 -11 39 3 8 -2 17 -10 20 -9 4 -16 11 -16 18 0 6 7 9 15 6 11 -5 12 -1 5 19 -13 33 -13 34 5 34 8 0 24 18 35 40 24 47 24 50 5 50 -9 0 -18 12 -21 29 -4 17 -11 28 -18 25 -14 -5 -37 -74 -25 -74 5 0 9 -7 9 -16 0 -8 4 -13 9 -10 5 3 11 -1 15 -9 8 -22 -7 -25 -42 -8 -32 15 -34 15 -48 -6 -19 -27 -39 -29 -24 -2 16 30 12 44 -10 38 -24 -6 -24 -6 -5 39 8 19 14 38 14 42 -3 19 2 23 15 13 11 -9 20 -6 44 14 17 14 47 29 67 32 19 3 35 8 35 12 0 3 -17 17 -37 31 -20 14 -57 44 -81 67 -24 23 -60 47 -80 53 -39 10 -127 12 -152 3z m-215 -387 c2 -18 12 -50 23 -70 26 -49 28 -145 4 -174 -9 -11 -22 -29 -29 -39 -9 -14 -10 -10 -3 22 6 28 5 42 -3 47 -9 6 -9 8 1 8 6 0 12 5 12 12 0 6 -9 3 -20 -7 -20 -19 -28 -41 -10 -30 15 9 12 -14 -4 -30 -25 -25 -26 52 -2 98 11 21 22 34 24 28 4 -12 32 -3 32 11 0 5 -4 7 -9 4 -5 -3 -16 12 -25 34 -19 47 -30 54 -14 9 12 -34 5 -51 -10 -22 -16 31 -24 75 -12 68 10 -6 15 13 12 48 -1 9 3 17 9 17 5 0 7 5 4 10 -4 6 -11 8 -16 5 -10 -7 -12 8 -2 18 10 11 35 -32 38 -67z m-45 -370 c0 -19 9 -43 20 -56 11 -13 20 -31 20 -42 0 -10 5 -18 10 -18 6 0 10 -8 10 -18 0 -11 7 -33 16 -51 9 -18 18 -51 21 -74 l4 -42 -17 27 c-16 25 -19 25 -41 11 -21 -14 -23 -14 -32 8 -4 13 -5 34 0 46 6 15 1 41 -16 84 -34 86 -31 107 4 34 16 -33 30 -56 30 -52 1 9 -21 63 -43 108 -14 28 -10 83 5 73 5 -3 9 -20 9 -38z"/>',
              '</g>',
              '</svg>'
          ));
      }
      else if(maturity == 4) {
          imagePart3 = bytes(
          abi.encodePacked(
              '<rect x="-3000" height="10000" width="12000" fill="url(#gradBackground)"/>',
              '<path fill="url(#grad1)" d="M10479 6908 c-13 -18 -29 -39 -36 -46 -7 -7 -13 -15 -13 -16 0 -13 -23 -123 -27 -130 -3 -4 -9 -2 -14 5 -6 10 -9 3 -9 -21 -1 -28 -3 -32 -11 -18 -5 10 -6 36 -2 60 5 33 8 38 12 21 5 -17 11 -5 27 47 12 38 17 67 13 64 -5 -3 -9 2 -9 10 0 27 -24 7 -52 -42 -30 -53 -44 -114 -31 -134 5 -9 10 0 14 27 4 26 5 18 3 -22 -3 -33 -1 -63 4 -65 12 -5 53 -119 56 -158 9 -110 31 -159 43 -99 l6 32 21 -39 c19 -37 21 -38 24 -14 4 23 5 24 13 5 6 -15 8 -11 9 20 2 41 4 40 15 -9 6 -30 20 -26 27 9 l4 20 11 -20 c8 -16 5 -33 -13 -80 -22 -58 -23 -59 -25 -25 -1 21 -3 27 -6 16 -4 -15 -7 -16 -14 -5 -7 12 -9 12 -9 -1 -1 -9 -6 -5 -15 10 l-14 25 -1 -28 c0 -16 5 -38 11 -49 6 -12 7 -23 2 -27 -5 -3 -10 -16 -10 -29 -2 -30 -42 -82 -95 -124 -71 -56 -108 -101 -119 -143 -6 -22 -14 -47 -17 -55 -11 -31 -13 18 -3 58 11 38 43 75 142 167 25 22 50 58 58 80 8 22 18 43 24 47 17 10 -12 95 -34 101 -12 3 -19 0 -19 -10 0 -9 6 -13 15 -9 27 10 29 -40 4 -102 -18 -44 -41 -74 -101 -131 -86 -82 -108 -119 -108 -183 -1 -36 -9 -53 -51 -108 -60 -78 -129 -217 -160 -320 -12 -41 -32 -89 -43 -106 -138 -203 -133 -186 -104 -354 23 -129 46 -355 54 -525 6 -125 4 -146 -14 -200 -11 -33 -26 -108 -33 -167 -15 -128 -11 -136 81 -191 66 -40 104 -42 115 -6 8 24 21 24 34 2 15 -27 30 -5 40 56 4 28 12 55 16 59 19 17 -7 -127 -49 -273 -48 -169 -66 -260 -66 -337 0 -50 -18 -79 -94 -148 -113 -101 -142 -158 -192 -365 -80 -333 -121 -428 -230 -538 -68 -68 -74 -78 -74 -115 0 -56 28 -84 125 -123 65 -26 91 -43 141 -95 55 -56 59 -63 40 -67 -11 -2 13 -5 54 -7 116 -4 153 -17 55 -20 -44 -1 -109 -6 -145 -10 -45 -6 -28 -6 56 -3 67 3 217 9 335 13 118 4 186 8 152 8 -35 1 -63 7 -63 12 0 6 -42 10 -107 10 -65 0 -103 4 -97 9 5 5 20 11 34 14 24 4 24 4 -2 6 -17 0 -28 7 -28 15 0 8 -15 17 -34 20 -59 11 -107 59 -149 149 -21 45 -39 96 -39 113 0 43 50 158 133 304 142 249 225 360 322 433 21 16 36 31 34 33 -8 8 -111 -67 -145 -104 -18 -20 -28 -28 -23 -17 17 32 43 59 88 89 40 27 53 49 53 94 0 13 4 21 8 18 5 -3 9 14 11 37 1 24 8 45 17 50 7 4 14 16 14 26 0 9 8 26 18 37 28 32 82 140 82 165 0 19 2 21 10 9 7 -11 10 -5 11 25 1 39 2 39 9 10 7 -27 8 -24 10 20 2 41 3 45 10 25 7 -22 8 -20 9 15 2 40 2 40 16 15 l14 -25 1 36 c0 20 7 42 15 49 8 7 15 27 15 44 1 30 1 30 16 11 10 -13 13 -31 10 -49 -9 -46 -77 -173 -149 -280 -37 -55 -67 -104 -67 -110 0 -5 13 10 28 35 16 24 52 75 81 112 28 38 68 104 89 148 20 43 39 79 42 79 3 -1 31 -36 63 -78 32 -42 93 -115 137 -161 93 -97 109 -136 91 -214 -6 -27 -13 -81 -16 -120 -5 -76 -5 -78 24 53 6 25 8 30 6 11 -3 -18 -6 -70 -6 -115 -1 -62 -3 -74 -10 -51 -5 21 -6 13 -2 -25 9 -95 57 -192 146 -298 43 -51 99 -165 142 -292 42 -121 49 -165 40 -251 l-7 -69 -37 -2 -36 -1 35 -4 c56 -7 70 -42 18 -45 -28 -1 -26 -2 11 -7 48 -7 66 -27 29 -33 -13 -2 38 -8 114 -12 75 -5 142 -6 150 -3 7 3 -7 6 -32 7 l-45 3 45 8 c25 4 84 8 133 8 52 1 87 5 87 11 0 12 -14 18 -50 22 -14 2 -30 7 -37 11 -6 4 -15 3 -18 -3 -5 -8 -11 -8 -20 0 -7 6 -15 7 -17 3 -3 -4 -3 -2 -2 4 2 7 -12 36 -32 65 -19 29 -37 61 -40 70 -3 10 -10 18 -15 18 -6 0 -7 -6 -3 -12 6 -10 4 -10 -7 0 -7 6 -22 12 -32 12 -17 0 -18 -2 -6 -17 13 -17 13 -17 -13 0 -16 10 -29 13 -33 7 -19 -31 -45 2 -56 70 -5 35 -21 82 -35 104 -20 32 -25 35 -21 16 3 -14 8 -43 11 -65 5 -32 2 -29 -13 20 -13 40 -20 52 -21 35 0 -16 -13 7 -35 65 -19 50 -34 94 -32 99 2 5 13 -20 26 -55 27 -76 46 -101 37 -49 -17 95 -26 120 -44 120 -12 0 -13 3 -4 12 9 9 7 14 -5 23 -14 10 -14 12 0 12 14 0 89 -155 147 -307 12 -30 26 -59 31 -65 11 -11 12 1 0 23 -4 9 -11 31 -14 47 -5 23 0 18 19 -20 29 -58 26 -34 -5 43 -12 29 -17 51 -12 48 5 -4 15 -23 21 -44 17 -52 30 -63 30 -25 0 17 -6 38 -13 45 -29 31 -51 75 -52 108 -3 75 -65 226 -77 189 -2 -7 -19 41 -36 107 -18 65 -44 147 -59 182 -21 53 -23 69 -14 89 6 13 16 21 22 17 7 -4 9 1 5 15 -3 11 -9 31 -12 42 -4 14 -2 19 5 15 14 -9 14 -13 -9 69 -11 38 -20 82 -20 97 0 15 -4 29 -9 33 -11 6 -42 65 -35 65 3 0 17 -13 31 -30 24 -29 63 -41 63 -20 0 6 5 10 10 10 6 0 10 -8 10 -18 0 -10 4 -22 9 -27 5 -6 23 -93 41 -195 43 -247 99 -477 168 -683 50 -151 60 -172 87 -189 61 -37 140 -60 220 -63 l80 -4 -63 9 c-79 11 -154 35 -208 66 -38 21 -44 31 -77 122 -53 148 -123 401 -151 547 -74 382 -81 425 -73 447 12 32 1 122 -23 193 -12 33 -37 119 -56 190 -69 254 -112 351 -238 540 -75 111 -86 134 -81 160 3 17 9 66 14 110 5 44 16 100 25 125 9 25 21 79 27 120 5 41 12 87 15 102 l6 28 46 -39 c26 -22 92 -71 147 -108 115 -79 136 -109 137 -188 1 -45 4 -56 20 -61 11 -3 22 -3 25 0 3 3 14 1 25 -5 13 -7 29 -7 47 -1 18 6 34 6 45 0 14 -8 16 -6 10 19 -18 81 -27 109 -39 123 -8 8 -14 18 -14 23 -1 4 -3 6 -4 5 -2 -2 -11 3 -19 10 -9 7 -22 10 -31 6 -20 -7 -28 -41 -12 -54 22 -18 27 -71 9 -92 -26 -27 -46 -24 -34 7 6 15 6 26 0 30 -6 4 -6 14 1 27 6 11 7 18 1 14 -5 -3 -17 12 -27 34 -10 22 -35 51 -56 66 -22 15 -37 29 -34 32 3 3 19 -4 35 -16 16 -12 34 -22 40 -22 12 0 14 50 3 77 -6 14 -9 11 -15 -17 -6 -30 -6 -28 -4 12 2 26 0 45 -5 42 -5 -3 -9 5 -10 18 -1 23 -1 23 -9 -2 -8 -24 -8 -24 -9 7 -1 17 -4 39 -7 48 -6 15 43 -28 188 -165 54 -51 59 -60 73 -125 22 -107 21 -121 -16 -134 -18 -6 -46 -11 -63 -12 -28 0 -29 -1 -9 -9 15 -6 39 -4 70 5 56 17 64 22 81 52 17 32 15 45 -14 84 -14 19 -34 52 -44 75 -12 28 -50 68 -121 130 -93 81 -114 106 -225 270 l-122 181 24 73 c13 40 24 79 24 86 0 7 11 30 25 51 23 33 25 44 20 93 -11 88 -33 165 -93 323 -38 100 -69 163 -93 192 -29 36 -36 52 -37 92 -1 26 2 64 6 83 7 33 10 34 47 32 22 -1 51 3 64 10 28 15 71 122 71 177 0 24 7 42 19 53 19 16 19 19 4 58 -14 35 -15 48 -4 90 8 32 10 72 6 113 -5 46 -3 71 6 88 7 13 14 26 14 29 1 3 5 18 10 33 6 21 3 33 -9 45 -16 16 -17 16 -10 0 3 -11 1 -18 -5 -18 -6 0 -11 -6 -11 -13 0 -7 -14 -21 -31 -31 -31 -18 -31 -18 -25 2 5 16 1 21 -26 27 l-33 8 45 7 c28 4 39 9 30 13 -30 13 -115 12 -106 -1 3 -5 -15 -6 -40 -2 -44 7 -44 7 -24 -12 25 -23 17 -40 -14 -32 -14 3 -32 -3 -51 -17 l-30 -23 30 33 c30 33 30 33 5 26 l-25 -7 24 17 c16 12 19 20 11 25 -17 11 -151 5 -182 -8 -28 -11 -65 -72 -79 -127 -7 -29 -7 -29 -8 9 -1 25 8 56 25 85 l25 46 -31 -35 c-32 -36 -50 -84 -50 -135 0 -33 -15 -63 -26 -53 -12 12 16 129 40 167 35 56 38 61 32 61 -2 0 -15 -15 -27 -32z m471 -101 c0 -14 4 -16 19 -8 17 9 20 5 30 -34 14 -55 14 -112 1 -120 -14 -9 -12 -73 4 -117 l13 -37 -33 1 c-21 1 -34 6 -34 15 0 7 5 13 10 13 6 0 10 5 10 10 0 6 -8 5 -20 -2 -29 -19 -27 -58 4 -58 23 0 36 -16 36 -46 0 -8 -8 -14 -18 -14 -11 0 -27 -9 -37 -20 -21 -23 -4 -28 19 -5 35 36 36 -1 0 -40 -18 -20 -22 -30 -14 -35 9 -6 9 -13 1 -29 -16 -29 -65 -24 -69 7 -2 12 1 22 7 22 6 0 7 7 4 17 -4 11 -3 14 5 9 8 -5 10 -2 5 9 -4 11 -8 13 -12 6 -5 -7 -15 -4 -29 9 -28 26 -39 25 -46 -5 -4 -14 -11 -23 -17 -19 -6 4 -4 14 6 27 9 12 18 30 22 40 4 14 8 15 21 5 14 -12 14 -10 3 11 -16 29 -21 71 -10 71 5 0 9 5 9 11 0 6 -8 9 -18 7 -12 -4 -18 1 -18 13 0 11 7 17 18 16 10 -1 18 -5 18 -9 0 -4 4 -8 9 -8 4 0 6 11 3 25 -2 14 -8 25 -12 25 -14 0 -4 49 13 68 13 14 31 18 73 17 62 -1 70 5 52 34 -14 23 -41 20 -97 -11 -27 -16 -36 -17 -42 -6 -11 17 -11 28 0 28 6 0 9 9 8 20 -1 11 -5 20 -10 20 -4 0 -5 5 -1 11 4 7 14 0 26 -18 19 -26 19 -21 1 25 -5 14 -4 15 8 5 11 -9 14 -7 16 14 1 20 -1 23 -9 12 -8 -11 -9 -10 -4 4 3 10 6 22 6 26 0 4 16 7 35 7 27 -1 35 -5 35 -19z m-164 -732 c-2 -6 11 -26 29 -43 28 -28 32 -39 30 -75 -2 -45 36 -147 54 -147 15 0 15 -1 -14 65 -14 32 -24 59 -22 61 9 9 55 -115 50 -134 -3 -13 3 -27 17 -39 33 -28 51 -68 71 -167 13 -65 15 -93 7 -103 -7 -9 -7 -17 1 -27 9 -11 7 -20 -13 -42 -32 -38 -41 -26 -27 32 10 39 9 53 -5 93 -10 25 -23 53 -31 62 -7 8 -13 22 -13 29 0 7 -3 11 -6 8 -5 -5 4 -47 22 -111 5 -15 0 -17 -29 -14 -32 4 -34 2 -34 -27 0 -17 6 -39 14 -48 8 -9 13 -25 10 -35 -4 -15 -6 -14 -13 6 -7 23 -8 24 -15 5 -6 -15 -8 -12 -8 14 -1 17 -5 32 -11 32 -5 0 -10 9 -10 20 0 11 -4 20 -9 20 -5 0 -13 14 -16 31 -5 23 -9 28 -16 18 -6 -10 -9 -4 -9 19 0 17 5 32 10 32 6 0 10 6 10 13 0 23 -121 257 -133 258 -7 0 -22 2 -35 3 -18 2 -21 -1 -16 -13 4 -9 8 -41 10 -71 3 -42 2 -50 -6 -32 -12 27 -40 29 -47 2 -3 -11 -9 -20 -13 -20 -5 0 -13 -14 -19 -31 -6 -17 -14 -28 -19 -25 -9 5 -42 -28 -42 -44 0 -5 -6 -7 -12 -5 -7 2 -20 -1 -29 -8 -19 -15 -58 -74 -43 -64 7 4 15 0 18 -9 3 -8 2 -12 -3 -9 -13 7 -20 -6 -25 -49 -3 -21 -10 -44 -17 -52 -6 -7 -9 -23 -6 -34 3 -11 -4 -31 -16 -47 -32 -43 -37 -48 -37 -36 0 7 11 24 24 38 20 22 23 31 16 56 -6 18 -5 41 1 56 13 34 3 63 -22 63 -21 0 -22 1 -13 24 3 9 10 13 15 10 5 -3 9 0 9 5 0 6 6 11 14 11 8 0 17 11 20 25 4 14 11 25 16 25 17 0 42 73 36 105 -4 22 -3 26 4 15 5 -8 10 -24 10 -35 1 -18 2 -18 11 3 11 29 0 110 -12 90 -5 -7 -9 -9 -9 -4 0 5 8 18 18 29 16 19 16 19 -8 13 l-25 -7 25 20 c14 11 33 27 42 35 9 8 19 12 21 9 3 -2 11 12 18 31 17 47 34 45 59 -4 16 -31 25 -39 43 -37 12 2 26 13 32 25 5 12 13 22 18 22 4 0 3 10 -4 21 -8 15 -8 19 0 15 6 -4 14 0 17 9 4 8 16 21 28 27 20 10 20 10 6 -7 -14 -17 -14 -17 7 -7 31 17 32 17 54 -33 11 -25 22 -45 24 -45 3 0 2 25 -4 63 0 4 -17 23 -36 43 -37 36 -50 70 -15 39 25 -22 26 -9 3 19 l-18 21 23 -19 c12 -11 21 -25 18 -31z m-546 -258 c0 -7 -18 -38 -41 -68 -57 -76 -115 -193 -144 -294 -18 -63 -37 -102 -68 -143 -54 -70 -67 -94 -67 -123 0 -28 -43 -69 -48 -45 -4 21 96 189 128 216 4 3 23 57 44 121 37 116 103 246 158 313 32 39 38 43 38 23z m62 -291 c-6 -13 -7 -29 -1 -37 17 -28 -21 -137 -68 -198 l-37 -46 37 34 c39 37 77 50 77 28 0 -8 -12 -24 -27 -38 -16 -13 -22 -17 -15 -9 6 8 12 22 12 32 0 13 -11 5 -40 -26 -22 -24 -40 -50 -40 -59 0 -9 -5 -19 -12 -23 -8 -5 -9 -2 -5 10 4 9 0 31 -9 48 -9 16 -11 27 -5 24 16 -10 14 -2 -11 40 -12 21 -17 34 -10 30 19 -12 14 3 -15 42 -20 26 -22 32 -7 19 11 -9 23 -14 26 -11 3 3 9 0 14 -7 4 -8 3 -10 -4 -5 -18 11 -14 -10 5 -25 15 -12 16 -12 10 4 -4 10 -2 17 6 17 9 0 9 2 -1 8 -7 5 -10 15 -7 23 3 9 -3 24 -15 34 -25 22 -27 9 -2 -19 l17 -21 -23 20 c-33 27 -46 54 -27 51 8 -1 21 -8 27 -14 17 -17 33 -15 18 3 -7 8 -10 21 -7 30 4 8 2 17 -3 20 -13 8 -13 35 0 35 6 0 10 -7 10 -15 0 -8 8 -23 18 -33 18 -18 19 -18 40 5 12 14 22 31 22 38 0 8 7 21 16 29 14 15 17 15 31 0 12 -12 13 -20 5 -38z m643 -199 c-5 -24 -4 -28 4 -17 6 8 11 10 11 5 0 -6 -5 -16 -10 -21 -6 -6 -17 -45 -25 -88 -8 -42 -19 -86 -25 -96 -5 -10 -10 -41 -10 -68 0 -81 -25 -206 -40 -197 -14 9 -23 -16 -11 -28 21 -21 11 -30 -11 -11 -21 18 -21 18 2 -16 l24 -35 -29 25 c-26 23 -27 24 -16 3 6 -12 16 -25 21 -28 6 -3 10 -11 10 -18 0 -6 -7 -1 -16 11 -8 12 -20 19 -26 16 -7 -5 -8 -2 -3 7 6 11 5 11 -5 2 -13 -12 -5 -37 10 -28 5 3 12 0 16 -6 5 -8 3 -9 -6 -4 -8 5 -11 3 -8 -6 3 -8 10 -14 15 -14 6 0 14 -3 18 -7 9 -9 -16 -5 -32 5 -7 5 -13 4 -13 0 0 -5 6 -15 13 -22 9 -11 9 -12 0 -7 -7 4 -18 16 -24 28 -8 15 -8 19 0 14 15 -10 14 7 -1 22 -16 16 -31 15 -22 0 23 -36 3 -62 -25 -35 -8 6 3 -14 24 -45 21 -32 41 -56 44 -53 4 2 8 -6 8 -17 2 -20 1 -20 -19 -2 -21 19 -21 19 -15 -14 l7 -32 -42 40 c-27 25 -45 37 -52 30 -6 -6 -4 -15 4 -25 7 -8 10 -18 7 -21 -3 -3 11 -38 30 -77 32 -64 40 -93 42 -148 1 -8 11 -26 24 -39 21 -23 40 -52 139 -215 63 -104 109 -222 157 -402 22 -81 49 -175 61 -208 21 -61 38 -175 26 -175 -3 0 -20 12 -37 28 -17 15 -32 25 -33 22 -1 -3 -10 3 -19 12 -14 13 -16 26 -11 58 5 30 9 38 16 28 7 -9 8 -8 4 5 -3 10 -6 23 -6 28 0 5 -5 9 -11 9 -6 0 -19 10 -28 22 -21 25 -56 34 -47 12 4 -9 2 -12 -5 -8 -8 4 -9 -1 -5 -17 6 -22 6 -23 -7 -6 -8 9 -19 17 -24 17 -6 0 -19 11 -29 25 -18 24 -20 24 -32 8 -12 -16 -12 -14 -6 12 6 29 6 29 -9 10 -10 -12 -16 -15 -17 -7 0 7 -4 10 -10 7 -6 -4 -6 3 0 21 8 21 7 31 -5 44 -22 25 -46 22 -39 -6 3 -12 1 -25 -4 -28 -7 -4 -9 11 -7 39 1 25 -1 48 -6 51 -5 3 -9 11 -9 19 0 14 24 15 37 0 5 -4 2 -5 -6 0 -11 6 -13 4 -8 -9 4 -10 7 -23 7 -30 0 -15 30 -17 46 -4 8 6 11 3 10 -9 0 -9 9 -22 22 -29 13 -6 35 -29 49 -50 32 -48 48 -65 40 -42 -4 13 -1 16 14 13 13 -3 19 0 16 8 -3 7 -9 11 -15 10 -7 -2 -9 4 -5 13 4 12 2 15 -8 12 -8 -3 -13 -11 -11 -17 1 -7 -2 -10 -7 -6 -6 3 -8 12 -5 19 3 8 1 17 -5 21 -6 3 -11 14 -11 23 0 9 -27 55 -60 101 -73 102 -69 99 -68 70 1 -21 31 -64 96 -141 13 -16 13 -18 -2 -18 -9 0 -21 12 -26 26 -6 14 -14 23 -19 19 -5 -3 -13 0 -17 6 -4 8 -3 9 4 5 7 -4 12 -3 12 2 0 13 -25 33 -33 27 -4 -3 -5 -2 -2 1 7 10 -15 45 -24 39 -5 -2 -15 3 -22 13 -13 15 -12 16 4 3 21 -16 23 1 2 19 -8 7 -15 9 -15 4 0 -4 -12 3 -26 17 l-26 24 7 -25 c10 -37 35 -71 45 -65 5 3 11 1 15 -5 4 -6 11 -7 17 -4 7 4 8 2 4 -5 -6 -9 -11 -9 -24 1 -13 11 -15 11 -10 -3 3 -9 2 -22 -4 -30 -8 -12 -10 -12 -15 0 -3 8 -16 24 -29 36 -28 26 -31 37 -6 28 15 -6 15 -5 3 10 -7 9 -17 15 -20 12 -4 -2 -8 2 -8 10 0 8 5 15 11 15 5 0 -3 15 -20 33 -16 17 -36 41 -44 53 -8 11 -3 7 12 -9 27 -30 27 -30 26 -6 -1 14 -22 45 -51 76 -28 29 -46 56 -42 62 4 7 1 20 -5 29 -7 9 6 -3 29 -28 53 -59 53 -42 0 22 -32 37 -44 46 -51 36 -7 -9 -8 -8 -4 6 4 10 1 26 -5 35 -7 9 11 -9 39 -39 28 -30 51 -50 52 -44 0 6 -12 21 -26 35 -30 28 -88 108 -82 114 2 3 22 -18 43 -45 22 -28 44 -50 49 -50 5 0 1 9 -9 20 -12 14 -14 20 -5 20 7 0 -8 22 -34 50 -54 57 -62 79 -11 30 47 -45 57 -30 15 23 -19 23 -24 33 -12 23 33 -29 26 -7 -10 33 -18 20 -23 27 -10 17 34 -29 26 -6 -13 39 -37 43 -41 55 -25 86 7 12 7 19 1 19 -14 0 -24 -38 -17 -68 6 -26 6 -26 -9 -8 -19 25 -19 29 5 76 22 44 25 54 10 45 -12 -7 -12 -3 -4 19 3 9 11 13 17 9 7 -4 8 0 4 13 -5 14 -2 12 13 -6 11 -14 20 -29 20 -34 0 -5 3 -7 6 -4 3 4 1 15 -4 25 -7 13 -6 22 4 31 8 7 14 10 14 6 0 -4 10 1 22 12 12 10 18 14 15 7 -10 -16 2 -43 19 -43 8 0 17 -6 20 -14 3 -8 12 -17 20 -20 12 -4 12 -2 4 14 -6 11 -14 20 -18 20 -12 0 -13 82 -1 96 6 7 7 19 3 26 -11 18 -12 48 -2 48 5 0 -7 19 -26 42 -20 23 -36 47 -36 54 0 7 -6 14 -12 17 -10 3 -10 8 -2 17 9 9 15 7 27 -10 14 -20 15 -20 19 -3 2 10 -12 39 -30 66 -32 45 -38 84 -10 75 6 -2 20 4 31 15 18 18 20 18 38 1 10 -9 19 -12 19 -6 0 6 -4 14 -10 17 -5 3 -10 11 -10 16 0 6 4 8 9 4 5 -3 16 1 24 9 8 8 17 12 21 9 3 -4 6 0 6 7 0 10 4 9 13 -3 9 -12 16 -14 27 -6 11 8 12 12 3 16 -22 8 -14 25 10 23 12 -1 24 -1 27 0 3 1 18 4 35 6 34 6 59 24 48 34 -23 21 -71 18 -106 -6 -56 -38 -92 -29 -45 12 19 15 20 16 9 2 -7 -10 -10 -18 -5 -18 10 1 54 36 54 43 0 8 -47 0 -68 -12 -15 -8 -22 -8 -25 2 -4 8 -12 4 -26 -13 -15 -18 -21 -21 -21 -9 0 8 5 20 12 27 8 8 8 12 1 12 -16 0 -31 -23 -28 -42 2 -11 -14 -30 -43 -51 -45 -33 -103 -56 -101 -40 1 5 1 10 -1 13 -7 19 -9 53 -2 42 6 -9 18 -7 51 9 24 11 41 22 38 25 -2 2 -17 -2 -33 -11 -33 -17 -48 -19 -40 -6 4 5 1 11 -6 13 -7 3 -5 7 6 11 11 4 15 3 10 -4 -11 -18 36 1 83 33 24 16 47 36 53 46 25 43 41 57 49 44 6 -10 10 -10 21 3 11 13 10 14 -5 9 -13 -5 -16 -4 -11 4 5 9 0 9 -21 1 -33 -12 -30 -9 22 27 32 21 36 22 21 5 -11 -11 -16 -21 -12 -21 13 0 56 37 50 43 -3 3 0 8 7 13 8 5 10 3 4 -6 -5 -8 -3 -11 6 -8 8 3 14 9 14 14 1 29 26 50 62 52 21 2 45 9 53 17 13 13 16 12 28 -11 8 -15 11 -38 7 -57z m-691 -189 c3 -29 8 -64 11 -78 3 -16 0 -12 -9 10 -8 19 -15 49 -15 67 -1 17 -5 35 -11 38 -19 12 -10 -57 20 -143 33 -97 35 -117 21 -322 -10 -150 -16 -175 -85 -335 -31 -72 -35 -167 -10 -203 9 -13 13 -30 10 -39 -10 -25 -16 -11 -37 84 -17 75 -18 99 -9 168 5 44 15 150 20 235 6 85 18 218 26 295 9 77 13 162 10 189 -4 38 -2 54 11 68 27 30 40 21 47 -34z m-134 -28 c0 13 1 13 10 0 13 -21 12 -39 -1 -20 -9 12 -10 11 -6 -8 3 -12 1 -20 -4 -16 -5 3 -9 1 -9 -5 0 -18 20 -23 26 -6 6 13 8 14 15 3 5 -7 9 -17 9 -23 0 -5 -5 -3 -10 5 -9 13 -10 13 -10 0 0 -8 5 -22 10 -30 8 -13 10 -12 11 5 1 11 2 28 1 38 -1 9 3 17 8 17 13 0 13 -21 -5 -170 -16 -141 -48 -524 -49 -585 0 -22 8 -78 18 -124 12 -56 16 -99 11 -130 -11 -73 -12 -85 -14 -103 0 -10 -6 -18 -12 -18 -10 0 -9 91 1 135 5 22 -12 53 -26 48 -8 -3 -21 0 -29 7 -8 6 -19 9 -25 5 -5 -3 -10 2 -10 12 0 15 -2 16 -10 3 -5 -8 -10 -10 -10 -5 0 24 21 33 47 20 58 -30 59 -19 23 250 -11 83 -20 151 -20 153 0 2 -4 1 -9 -2 -4 -3 -12 -34 -15 -68 -9 -76 -22 -62 -29 32 -2 36 -2 53 0 38 2 -16 8 -28 12 -28 4 0 4 26 -1 57 -5 31 -7 64 -5 72 3 9 5 2 6 -16 0 -17 5 -35 11 -38 6 -4 7 6 4 27 -5 27 -4 31 6 21 11 -10 17 -8 32 9 10 12 19 26 19 32 1 6 3 29 5 50 2 22 7 42 12 45 4 3 9 20 10 38 1 18 7 44 12 59 13 33 2 51 -16 27 -13 -17 -13 -17 -12 2 0 11 4 34 7 50 5 20 1 46 -11 78 -21 57 -23 71 -3 37 8 -14 14 -19 14 -10 0 8 -6 26 -14 40 -8 14 -14 30 -14 35 0 6 8 -6 19 -25 11 -19 19 -28 20 -20z m-145 -2217 c-36 -89 -111 -303 -105 -303 3 0 17 29 29 65 13 36 24 65 26 65 1 0 2 -13 0 -30 -1 -16 -37 -99 -80 -184 -84 -165 -96 -217 -63 -268 8 -13 25 -49 37 -80 16 -40 33 -64 55 -77 17 -11 42 -32 54 -46 17 -19 31 -26 47 -23 20 4 22 3 12 -14 -20 -30 -59 -18 -85 27 -6 11 -12 14 -12 7 0 -10 -4 -10 -16 2 -22 23 -37 20 -24 -3 14 -27 13 -31 -8 -31 -31 0 -64 43 -56 74 4 16 2 26 -5 26 -6 0 -11 14 -11 30 0 30 -14 41 -23 18 -3 -7 -6 -1 -6 13 -1 14 -4 29 -8 33 -5 4 -9 12 -9 17 -3 22 -7 22 -14 -1 -8 -25 -8 -25 -9 -2 -1 25 -25 55 -35 45 -3 -4 -6 2 -7 13 -1 15 -3 13 -9 -6 l-8 -25 -1 26 c-1 19 5 29 22 34 17 5 18 8 6 12 -29 7 -39 46 -22 81 9 18 22 32 29 32 8 0 14 8 14 18 0 14 -2 15 -10 2 -5 -8 -10 -10 -10 -4 0 18 12 24 26 13 11 -9 16 -5 24 17 22 61 33 85 36 81 2 -2 -5 -30 -16 -62 -35 -102 -20 -84 20 25 36 95 44 150 19 135 -5 -4 -9 -1 -9 4 0 6 4 11 8 11 5 0 16 15 25 33 15 27 17 28 13 7 -2 -14 -7 -36 -11 -50 -4 -14 18 25 49 85 67 132 66 125 -13 -69 -34 -82 -60 -153 -58 -159 2 -6 22 39 45 99 66 169 86 191 27 29 -19 -53 -30 -93 -26 -90 5 3 26 56 47 118 37 112 92 247 101 247 3 0 2 -8 -2 -17z m1246 -811 c0 -14 2 -14 8 2 5 14 10 16 15 8 4 -7 20 -12 37 -12 16 0 29 -5 29 -12 0 -10 3 -9 9 1 7 11 11 10 20 -5 6 -11 11 -15 11 -9 0 5 7 -1 16 -14 12 -17 19 -20 27 -12 9 9 17 5 30 -11 17 -21 18 -21 13 -3 -6 20 -6 20 9 1 19 -25 19 -13 0 24 -16 31 -32 42 -21 15 10 -27 -1 -16 -24 22 -12 20 -15 31 -7 25 7 -7 16 -10 19 -7 4 5 78 -98 78 -108 0 -2 -19 -9 -41 -16 -33 -10 -43 -10 -49 -1 -4 7 -13 9 -19 5 -7 -4 -18 -1 -26 5 -8 7 -21 10 -29 7 -10 -4 -12 1 -9 16 4 20 3 20 -12 -3 -15 -23 -15 -24 -10 -2 4 12 4 22 0 22 -3 0 -10 -10 -16 -22 -8 -20 -9 -19 -5 8 4 28 1 33 -25 45 -26 10 -32 10 -40 -2 -6 -10 -9 -2 -9 24 0 37 19 45 21 9z"/> <path d="M10860 4033 c0 -4 18 -33 40 -64 l40 -57 -31 -4 c-27 -4 -34 1 -61 39 -16 25 -32 42 -35 39 -3 -2 14 -29 36 -59 23 -29 41 -60 41 -68 1 -21 77 -122 95 -125 8 -1 15 0 15 3 0 4 -25 40 -56 80 -31 41 -53 77 -51 80 3 3 18 -14 33 -36 32 -49 55 -42 29 9 -31 59 4 20 42 -47 45 -81 55 -69 15 19 -42 92 -87 158 -122 179 -16 10 -30 16 -30 12z"/>',
              '</g>',
              '</svg>'
          ));
      }
      else {
          imagePart3 = bytes(
          abi.encodePacked(
              '<rect x="-3000" height="10000" width="12000" fill="url(#gradBackground)"/>',
              '<path fill="url(#grad1)" d="M10479 6908 c-13 -18 -29 -39 -36 -46 -7 -7 -13 -15 -13 -16 0 -13 -23 -123 -27 -130 -3 -4 -9 -2 -14 5 -6 10 -9 3 -9 -21 -1 -28 -3 -32 -11 -18 -5 10 -6 36 -2 60 5 33 8 38 12 21 5 -17 11 -5 27 47 12 38 17 67 13 64 -5 -3 -9 2 -9 10 0 27 -24 7 -52 -42 -30 -53 -44 -114 -31 -134 5 -9 10 0 14 27 4 26 5 18 3 -22 -3 -33 -1 -63 4 -65 12 -5 53 -119 56 -158 9 -110 31 -159 43 -99 l6 32 21 -39 c19 -37 21 -38 24 -14 4 23 5 24 13 5 6 -15 8 -11 9 20 2 41 4 40 15 -9 6 -30 20 -26 27 9 l4 20 11 -20 c8 -16 5 -33 -13 -80 -22 -58 -23 -59 -25 -25 -1 21 -3 27 -6 16 -4 -15 -7 -16 -14 -5 -7 12 -9 12 -9 -1 -1 -9 -6 -5 -15 10 l-14 25 -1 -28 c0 -16 5 -38 11 -49 6 -12 7 -23 2 -27 -5 -3 -10 -16 -10 -29 -2 -30 -42 -82 -95 -124 -71 -56 -108 -101 -119 -143 -6 -22 -14 -47 -17 -55 -11 -31 -13 18 -3 58 11 38 43 75 142 167 25 22 50 58 58 80 8 22 18 43 24 47 17 10 -12 95 -34 101 -12 3 -19 0 -19 -10 0 -9 6 -13 15 -9 27 10 29 -40 4 -102 -18 -44 -41 -74 -101 -131 -86 -82 -108 -119 -108 -183 -1 -36 -9 -53 -51 -108 -60 -78 -129 -217 -160 -320 -12 -41 -32 -89 -43 -106 -138 -203 -133 -186 -104 -354 23 -129 46 -355 54 -525 6 -125 4 -146 -14 -200 -11 -33 -26 -108 -33 -167 -15 -128 -11 -136 81 -191 66 -40 104 -42 115 -6 8 24 21 24 34 2 15 -27 30 -5 40 56 4 28 12 55 16 59 19 17 -7 -127 -49 -273 -48 -169 -66 -260 -66 -337 0 -50 -18 -79 -94 -148 -113 -101 -142 -158 -192 -365 -80 -333 -121 -428 -230 -538 -68 -68 -74 -78 -74 -115 0 -56 28 -84 125 -123 65 -26 91 -43 141 -95 55 -56 59 -63 40 -67 -11 -2 13 -5 54 -7 116 -4 153 -17 55 -20 -44 -1 -109 -6 -145 -10 -45 -6 -28 -6 56 -3 67 3 217 9 335 13 118 4 186 8 152 8 -35 1 -63 7 -63 12 0 6 -42 10 -107 10 -65 0 -103 4 -97 9 5 5 20 11 34 14 24 4 24 4 -2 6 -17 0 -28 7 -28 15 0 8 -15 17 -34 20 -59 11 -107 59 -149 149 -21 45 -39 96 -39 113 0 43 50 158 133 304 142 249 225 360 322 433 21 16 36 31 34 33 -8 8 -111 -67 -145 -104 -18 -20 -28 -28 -23 -17 17 32 43 59 88 89 40 27 53 49 53 94 0 13 4 21 8 18 5 -3 9 14 11 37 1 24 8 45 17 50 7 4 14 16 14 26 0 9 8 26 18 37 28 32 82 140 82 165 0 19 2 21 10 9 7 -11 10 -5 11 25 1 39 2 39 9 10 7 -27 8 -24 10 20 2 41 3 45 10 25 7 -22 8 -20 9 15 2 40 2 40 16 15 l14 -25 1 36 c0 20 7 42 15 49 8 7 15 27 15 44 1 30 1 30 16 11 10 -13 13 -31 10 -49 -9 -46 -77 -173 -149 -280 -37 -55 -67 -104 -67 -110 0 -5 13 10 28 35 16 24 52 75 81 112 28 38 68 104 89 148 20 43 39 79 42 79 3 -1 31 -36 63 -78 32 -42 93 -115 137 -161 93 -97 109 -136 91 -214 -6 -27 -13 -81 -16 -120 -5 -76 -5 -78 24 53 6 25 8 30 6 11 -3 -18 -6 -70 -6 -115 -1 -62 -3 -74 -10 -51 -5 21 -6 13 -2 -25 9 -95 57 -192 146 -298 43 -51 99 -165 142 -292 42 -121 49 -165 40 -251 l-7 -69 -37 -2 -36 -1 35 -4 c56 -7 70 -42 18 -45 -28 -1 -26 -2 11 -7 48 -7 66 -27 29 -33 -13 -2 38 -8 114 -12 75 -5 142 -6 150 -3 7 3 -7 6 -32 7 l-45 3 45 8 c25 4 84 8 133 8 52 1 87 5 87 11 0 12 -14 18 -50 22 -14 2 -30 7 -37 11 -6 4 -15 3 -18 -3 -5 -8 -11 -8 -20 0 -7 6 -15 7 -17 3 -3 -4 -3 -2 -2 4 2 7 -12 36 -32 65 -19 29 -37 61 -40 70 -3 10 -10 18 -15 18 -6 0 -7 -6 -3 -12 6 -10 4 -10 -7 0 -7 6 -22 12 -32 12 -17 0 -18 -2 -6 -17 13 -17 13 -17 -13 0 -16 10 -29 13 -33 7 -19 -31 -45 2 -56 70 -5 35 -21 82 -35 104 -20 32 -25 35 -21 16 3 -14 8 -43 11 -65 5 -32 2 -29 -13 20 -13 40 -20 52 -21 35 0 -16 -13 7 -35 65 -19 50 -34 94 -32 99 2 5 13 -20 26 -55 27 -76 46 -101 37 -49 -17 95 -26 120 -44 120 -12 0 -13 3 -4 12 9 9 7 14 -5 23 -14 10 -14 12 0 12 14 0 89 -155 147 -307 12 -30 26 -59 31 -65 11 -11 12 1 0 23 -4 9 -11 31 -14 47 -5 23 0 18 19 -20 29 -58 26 -34 -5 43 -12 29 -17 51 -12 48 5 -4 15 -23 21 -44 17 -52 30 -63 30 -25 0 17 -6 38 -13 45 -29 31 -51 75 -52 108 -3 75 -65 226 -77 189 -2 -7 -19 41 -36 107 -18 65 -44 147 -59 182 -21 53 -23 69 -14 89 6 13 16 21 22 17 7 -4 9 1 5 15 -3 11 -9 31 -12 42 -4 14 -2 19 5 15 14 -9 14 -13 -9 69 -11 38 -20 82 -20 97 0 15 -4 29 -9 33 -11 6 -42 65 -35 65 3 0 17 -13 31 -30 24 -29 63 -41 63 -20 0 6 5 10 10 10 6 0 10 -8 10 -18 0 -10 4 -22 9 -27 5 -6 23 -93 41 -195 43 -247 99 -477 168 -683 50 -151 60 -172 87 -189 61 -37 140 -60 220 -63 l80 -4 -63 9 c-79 11 -154 35 -208 66 -38 21 -44 31 -77 122 -53 148 -123 401 -151 547 -74 382 -81 425 -73 447 12 32 1 122 -23 193 -12 33 -37 119 -56 190 -69 254 -112 351 -238 540 -75 111 -86 134 -81 160 3 17 9 66 14 110 5 44 16 100 25 125 9 25 21 79 27 120 5 41 12 87 15 102 l6 28 46 -39 c26 -22 92 -71 147 -108 115 -79 136 -109 137 -188 1 -45 4 -56 20 -61 11 -3 22 -3 25 0 3 3 14 1 25 -5 13 -7 29 -7 47 -1 18 6 34 6 45 0 14 -8 16 -6 10 19 -18 81 -27 109 -39 123 -8 8 -14 18 -14 23 -1 4 -3 6 -4 5 -2 -2 -11 3 -19 10 -9 7 -22 10 -31 6 -20 -7 -28 -41 -12 -54 22 -18 27 -71 9 -92 -26 -27 -46 -24 -34 7 6 15 6 26 0 30 -6 4 -6 14 1 27 6 11 7 18 1 14 -5 -3 -17 12 -27 34 -10 22 -35 51 -56 66 -22 15 -37 29 -34 32 3 3 19 -4 35 -16 16 -12 34 -22 40 -22 12 0 14 50 3 77 -6 14 -9 11 -15 -17 -6 -30 -6 -28 -4 12 2 26 0 45 -5 42 -5 -3 -9 5 -10 18 -1 23 -1 23 -9 -2 -8 -24 -8 -24 -9 7 -1 17 -4 39 -7 48 -6 15 43 -28 188 -165 54 -51 59 -60 73 -125 22 -107 21 -121 -16 -134 -18 -6 -46 -11 -63 -12 -28 0 -29 -1 -9 -9 15 -6 39 -4 70 5 56 17 64 22 81 52 17 32 15 45 -14 84 -14 19 -34 52 -44 75 -12 28 -50 68 -121 130 -93 81 -114 106 -225 270 l-122 181 24 73 c13 40 24 79 24 86 0 7 11 30 25 51 23 33 25 44 20 93 -11 88 -33 165 -93 323 -38 100 -69 163 -93 192 -29 36 -36 52 -37 92 -1 26 2 64 6 83 7 33 10 34 47 32 22 -1 51 3 64 10 28 15 71 122 71 177 0 24 7 42 19 53 19 16 19 19 4 58 -14 35 -15 48 -4 90 8 32 10 72 6 113 -5 46 -3 71 6 88 7 13 14 26 14 29 1 3 5 18 10 33 6 21 3 33 -9 45 -16 16 -17 16 -10 0 3 -11 1 -18 -5 -18 -6 0 -11 -6 -11 -13 0 -7 -14 -21 -31 -31 -31 -18 -31 -18 -25 2 5 16 1 21 -26 27 l-33 8 45 7 c28 4 39 9 30 13 -30 13 -115 12 -106 -1 3 -5 -15 -6 -40 -2 -44 7 -44 7 -24 -12 25 -23 17 -40 -14 -32 -14 3 -32 -3 -51 -17 l-30 -23 30 33 c30 33 30 33 5 26 l-25 -7 24 17 c16 12 19 20 11 25 -17 11 -151 5 -182 -8 -28 -11 -65 -72 -79 -127 -7 -29 -7 -29 -8 9 -1 25 8 56 25 85 l25 46 -31 -35 c-32 -36 -50 -84 -50 -135 0 -33 -15 -63 -26 -53 -12 12 16 129 40 167 35 56 38 61 32 61 -2 0 -15 -15 -27 -32z m471 -101 c0 -14 4 -16 19 -8 17 9 20 5 30 -34 14 -55 14 -112 1 -120 -14 -9 -12 -73 4 -117 l13 -37 -33 1 c-21 1 -34 6 -34 15 0 7 5 13 10 13 6 0 10 5 10 10 0 6 -8 5 -20 -2 -29 -19 -27 -58 4 -58 23 0 36 -16 36 -46 0 -8 -8 -14 -18 -14 -11 0 -27 -9 -37 -20 -21 -23 -4 -28 19 -5 35 36 36 -1 0 -40 -18 -20 -22 -30 -14 -35 9 -6 9 -13 1 -29 -16 -29 -65 -24 -69 7 -2 12 1 22 7 22 6 0 7 7 4 17 -4 11 -3 14 5 9 8 -5 10 -2 5 9 -4 11 -8 13 -12 6 -5 -7 -15 -4 -29 9 -28 26 -39 25 -46 -5 -4 -14 -11 -23 -17 -19 -6 4 -4 14 6 27 9 12 18 30 22 40 4 14 8 15 21 5 14 -12 14 -10 3 11 -16 29 -21 71 -10 71 5 0 9 5 9 11 0 6 -8 9 -18 7 -12 -4 -18 1 -18 13 0 11 7 17 18 16 10 -1 18 -5 18 -9 0 -4 4 -8 9 -8 4 0 6 11 3 25 -2 14 -8 25 -12 25 -14 0 -4 49 13 68 13 14 31 18 73 17 62 -1 70 5 52 34 -14 23 -41 20 -97 -11 -27 -16 -36 -17 -42 -6 -11 17 -11 28 0 28 6 0 9 9 8 20 -1 11 -5 20 -10 20 -4 0 -5 5 -1 11 4 7 14 0 26 -18 19 -26 19 -21 1 25 -5 14 -4 15 8 5 11 -9 14 -7 16 14 1 20 -1 23 -9 12 -8 -11 -9 -10 -4 4 3 10 6 22 6 26 0 4 16 7 35 7 27 -1 35 -5 35 -19z m-164 -732 c-2 -6 11 -26 29 -43 28 -28 32 -39 30 -75 -2 -45 36 -147 54 -147 15 0 15 -1 -14 65 -14 32 -24 59 -22 61 9 9 55 -115 50 -134 -3 -13 3 -27 17 -39 33 -28 51 -68 71 -167 13 -65 15 -93 7 -103 -7 -9 -7 -17 1 -27 9 -11 7 -20 -13 -42 -32 -38 -41 -26 -27 32 10 39 9 53 -5 93 -10 25 -23 53 -31 62 -7 8 -13 22 -13 29 0 7 -3 11 -6 8 -5 -5 4 -47 22 -111 5 -15 0 -17 -29 -14 -32 4 -34 2 -34 -27 0 -17 6 -39 14 -48 8 -9 13 -25 10 -35 -4 -15 -6 -14 -13 6 -7 23 -8 24 -15 5 -6 -15 -8 -12 -8 14 -1 17 -5 32 -11 32 -5 0 -10 9 -10 20 0 11 -4 20 -9 20 -5 0 -13 14 -16 31 -5 23 -9 28 -16 18 -6 -10 -9 -4 -9 19 0 17 5 32 10 32 6 0 10 6 10 13 0 23 -121 257 -133 258 -7 0 -22 2 -35 3 -18 2 -21 -1 -16 -13 4 -9 8 -41 10 -71 3 -42 2 -50 -6 -32 -12 27 -40 29 -47 2 -3 -11 -9 -20 -13 -20 -5 0 -13 -14 -19 -31 -6 -17 -14 -28 -19 -25 -9 5 -42 -28 -42 -44 0 -5 -6 -7 -12 -5 -7 2 -20 -1 -29 -8 -19 -15 -58 -74 -43 -64 7 4 15 0 18 -9 3 -8 2 -12 -3 -9 -13 7 -20 -6 -25 -49 -3 -21 -10 -44 -17 -52 -6 -7 -9 -23 -6 -34 3 -11 -4 -31 -16 -47 -32 -43 -37 -48 -37 -36 0 7 11 24 24 38 20 22 23 31 16 56 -6 18 -5 41 1 56 13 34 3 63 -22 63 -21 0 -22 1 -13 24 3 9 10 13 15 10 5 -3 9 0 9 5 0 6 6 11 14 11 8 0 17 11 20 25 4 14 11 25 16 25 17 0 42 73 36 105 -4 22 -3 26 4 15 5 -8 10 -24 10 -35 1 -18 2 -18 11 3 11 29 0 110 -12 90 -5 -7 -9 -9 -9 -4 0 5 8 18 18 29 16 19 16 19 -8 13 l-25 -7 25 20 c14 11 33 27 42 35 9 8 19 12 21 9 3 -2 11 12 18 31 17 47 34 45 59 -4 16 -31 25 -39 43 -37 12 2 26 13 32 25 5 12 13 22 18 22 4 0 3 10 -4 21 -8 15 -8 19 0 15 6 -4 14 0 17 9 4 8 16 21 28 27 20 10 20 10 6 -7 -14 -17 -14 -17 7 -7 31 17 32 17 54 -33 11 -25 22 -45 24 -45 3 0 2 25 -4 63 0 4 -17 23 -36 43 -37 36 -50 70 -15 39 25 -22 26 -9 3 19 l-18 21 23 -19 c12 -11 21 -25 18 -31z m-546 -258 c0 -7 -18 -38 -41 -68 -57 -76 -115 -193 -144 -294 -18 -63 -37 -102 -68 -143 -54 -70 -67 -94 -67 -123 0 -28 -43 -69 -48 -45 -4 21 96 189 128 216 4 3 23 57 44 121 37 116 103 246 158 313 32 39 38 43 38 23z m62 -291 c-6 -13 -7 -29 -1 -37 17 -28 -21 -137 -68 -198 l-37 -46 37 34 c39 37 77 50 77 28 0 -8 -12 -24 -27 -38 -16 -13 -22 -17 -15 -9 6 8 12 22 12 32 0 13 -11 5 -40 -26 -22 -24 -40 -50 -40 -59 0 -9 -5 -19 -12 -23 -8 -5 -9 -2 -5 10 4 9 0 31 -9 48 -9 16 -11 27 -5 24 16 -10 14 -2 -11 40 -12 21 -17 34 -10 30 19 -12 14 3 -15 42 -20 26 -22 32 -7 19 11 -9 23 -14 26 -11 3 3 9 0 14 -7 4 -8 3 -10 -4 -5 -18 11 -14 -10 5 -25 15 -12 16 -12 10 4 -4 10 -2 17 6 17 9 0 9 2 -1 8 -7 5 -10 15 -7 23 3 9 -3 24 -15 34 -25 22 -27 9 -2 -19 l17 -21 -23 20 c-33 27 -46 54 -27 51 8 -1 21 -8 27 -14 17 -17 33 -15 18 3 -7 8 -10 21 -7 30 4 8 2 17 -3 20 -13 8 -13 35 0 35 6 0 10 -7 10 -15 0 -8 8 -23 18 -33 18 -18 19 -18 40 5 12 14 22 31 22 38 0 8 7 21 16 29 14 15 17 15 31 0 12 -12 13 -20 5 -38z m643 -199 c-5 -24 -4 -28 4 -17 6 8 11 10 11 5 0 -6 -5 -16 -10 -21 -6 -6 -17 -45 -25 -88 -8 -42 -19 -86 -25 -96 -5 -10 -10 -41 -10 -68 0 -81 -25 -206 -40 -197 -14 9 -23 -16 -11 -28 21 -21 11 -30 -11 -11 -21 18 -21 18 2 -16 l24 -35 -29 25 c-26 23 -27 24 -16 3 6 -12 16 -25 21 -28 6 -3 10 -11 10 -18 0 -6 -7 -1 -16 11 -8 12 -20 19 -26 16 -7 -5 -8 -2 -3 7 6 11 5 11 -5 2 -13 -12 -5 -37 10 -28 5 3 12 0 16 -6 5 -8 3 -9 -6 -4 -8 5 -11 3 -8 -6 3 -8 10 -14 15 -14 6 0 14 -3 18 -7 9 -9 -16 -5 -32 5 -7 5 -13 4 -13 0 0 -5 6 -15 13 -22 9 -11 9 -12 0 -7 -7 4 -18 16 -24 28 -8 15 -8 19 0 14 15 -10 14 7 -1 22 -16 16 -31 15 -22 0 23 -36 3 -62 -25 -35 -8 6 3 -14 24 -45 21 -32 41 -56 44 -53 4 2 8 -6 8 -17 2 -20 1 -20 -19 -2 -21 19 -21 19 -15 -14 l7 -32 -42 40 c-27 25 -45 37 -52 30 -6 -6 -4 -15 4 -25 7 -8 10 -18 7 -21 -3 -3 11 -38 30 -77 32 -64 40 -93 42 -148 1 -8 11 -26 24 -39 21 -23 40 -52 139 -215 63 -104 109 -222 157 -402 22 -81 49 -175 61 -208 21 -61 38 -175 26 -175 -3 0 -20 12 -37 28 -17 15 -32 25 -33 22 -1 -3 -10 3 -19 12 -14 13 -16 26 -11 58 5 30 9 38 16 28 7 -9 8 -8 4 5 -3 10 -6 23 -6 28 0 5 -5 9 -11 9 -6 0 -19 10 -28 22 -21 25 -56 34 -47 12 4 -9 2 -12 -5 -8 -8 4 -9 -1 -5 -17 6 -22 6 -23 -7 -6 -8 9 -19 17 -24 17 -6 0 -19 11 -29 25 -18 24 -20 24 -32 8 -12 -16 -12 -14 -6 12 6 29 6 29 -9 10 -10 -12 -16 -15 -17 -7 0 7 -4 10 -10 7 -6 -4 -6 3 0 21 8 21 7 31 -5 44 -22 25 -46 22 -39 -6 3 -12 1 -25 -4 -28 -7 -4 -9 11 -7 39 1 25 -1 48 -6 51 -5 3 -9 11 -9 19 0 14 24 15 37 0 5 -4 2 -5 -6 0 -11 6 -13 4 -8 -9 4 -10 7 -23 7 -30 0 -15 30 -17 46 -4 8 6 11 3 10 -9 0 -9 9 -22 22 -29 13 -6 35 -29 49 -50 32 -48 48 -65 40 -42 -4 13 -1 16 14 13 13 -3 19 0 16 8 -3 7 -9 11 -15 10 -7 -2 -9 4 -5 13 4 12 2 15 -8 12 -8 -3 -13 -11 -11 -17 1 -7 -2 -10 -7 -6 -6 3 -8 12 -5 19 3 8 1 17 -5 21 -6 3 -11 14 -11 23 0 9 -27 55 -60 101 -73 102 -69 99 -68 70 1 -21 31 -64 96 -141 13 -16 13 -18 -2 -18 -9 0 -21 12 -26 26 -6 14 -14 23 -19 19 -5 -3 -13 0 -17 6 -4 8 -3 9 4 5 7 -4 12 -3 12 2 0 13 -25 33 -33 27 -4 -3 -5 -2 -2 1 7 10 -15 45 -24 39 -5 -2 -15 3 -22 13 -13 15 -12 16 4 3 21 -16 23 1 2 19 -8 7 -15 9 -15 4 0 -4 -12 3 -26 17 l-26 24 7 -25 c10 -37 35 -71 45 -65 5 3 11 1 15 -5 4 -6 11 -7 17 -4 7 4 8 2 4 -5 -6 -9 -11 -9 -24 1 -13 11 -15 11 -10 -3 3 -9 2 -22 -4 -30 -8 -12 -10 -12 -15 0 -3 8 -16 24 -29 36 -28 26 -31 37 -6 28 15 -6 15 -5 3 10 -7 9 -17 15 -20 12 -4 -2 -8 2 -8 10 0 8 5 15 11 15 5 0 -3 15 -20 33 -16 17 -36 41 -44 53 -8 11 -3 7 12 -9 27 -30 27 -30 26 -6 -1 14 -22 45 -51 76 -28 29 -46 56 -42 62 4 7 1 20 -5 29 -7 9 6 -3 29 -28 53 -59 53 -42 0 22 -32 37 -44 46 -51 36 -7 -9 -8 -8 -4 6 4 10 1 26 -5 35 -7 9 11 -9 39 -39 28 -30 51 -50 52 -44 0 6 -12 21 -26 35 -30 28 -88 108 -82 114 2 3 22 -18 43 -45 22 -28 44 -50 49 -50 5 0 1 9 -9 20 -12 14 -14 20 -5 20 7 0 -8 22 -34 50 -54 57 -62 79 -11 30 47 -45 57 -30 15 23 -19 23 -24 33 -12 23 33 -29 26 -7 -10 33 -18 20 -23 27 -10 17 34 -29 26 -6 -13 39 -37 43 -41 55 -25 86 7 12 7 19 1 19 -14 0 -24 -38 -17 -68 6 -26 6 -26 -9 -8 -19 25 -19 29 5 76 22 44 25 54 10 45 -12 -7 -12 -3 -4 19 3 9 11 13 17 9 7 -4 8 0 4 13 -5 14 -2 12 13 -6 11 -14 20 -29 20 -34 0 -5 3 -7 6 -4 3 4 1 15 -4 25 -7 13 -6 22 4 31 8 7 14 10 14 6 0 -4 10 1 22 12 12 10 18 14 15 7 -10 -16 2 -43 19 -43 8 0 17 -6 20 -14 3 -8 12 -17 20 -20 12 -4 12 -2 4 14 -6 11 -14 20 -18 20 -12 0 -13 82 -1 96 6 7 7 19 3 26 -11 18 -12 48 -2 48 5 0 -7 19 -26 42 -20 23 -36 47 -36 54 0 7 -6 14 -12 17 -10 3 -10 8 -2 17 9 9 15 7 27 -10 14 -20 15 -20 19 -3 2 10 -12 39 -30 66 -32 45 -38 84 -10 75 6 -2 20 4 31 15 18 18 20 18 38 1 10 -9 19 -12 19 -6 0 6 -4 14 -10 17 -5 3 -10 11 -10 16 0 6 4 8 9 4 5 -3 16 1 24 9 8 8 17 12 21 9 3 -4 6 0 6 7 0 10 4 9 13 -3 9 -12 16 -14 27 -6 11 8 12 12 3 16 -22 8 -14 25 10 23 12 -1 24 -1 27 0 3 1 18 4 35 6 34 6 59 24 48 34 -23 21 -71 18 -106 -6 -56 -38 -92 -29 -45 12 19 15 20 16 9 2 -7 -10 -10 -18 -5 -18 10 1 54 36 54 43 0 8 -47 0 -68 -12 -15 -8 -22 -8 -25 2 -4 8 -12 4 -26 -13 -15 -18 -21 -21 -21 -9 0 8 5 20 12 27 8 8 8 12 1 12 -16 0 -31 -23 -28 -42 2 -11 -14 -30 -43 -51 -45 -33 -103 -56 -101 -40 1 5 1 10 -1 13 -7 19 -9 53 -2 42 6 -9 18 -7 51 9 24 11 41 22 38 25 -2 2 -17 -2 -33 -11 -33 -17 -48 -19 -40 -6 4 5 1 11 -6 13 -7 3 -5 7 6 11 11 4 15 3 10 -4 -11 -18 36 1 83 33 24 16 47 36 53 46 25 43 41 57 49 44 6 -10 10 -10 21 3 11 13 10 14 -5 9 -13 -5 -16 -4 -11 4 5 9 0 9 -21 1 -33 -12 -30 -9 22 27 32 21 36 22 21 5 -11 -11 -16 -21 -12 -21 13 0 56 37 50 43 -3 3 0 8 7 13 8 5 10 3 4 -6 -5 -8 -3 -11 6 -8 8 3 14 9 14 14 1 29 26 50 62 52 21 2 45 9 53 17 13 13 16 12 28 -11 8 -15 11 -38 7 -57z m-691 -189 c3 -29 8 -64 11 -78 3 -16 0 -12 -9 10 -8 19 -15 49 -15 67 -1 17 -5 35 -11 38 -19 12 -10 -57 20 -143 33 -97 35 -117 21 -322 -10 -150 -16 -175 -85 -335 -31 -72 -35 -167 -10 -203 9 -13 13 -30 10 -39 -10 -25 -16 -11 -37 84 -17 75 -18 99 -9 168 5 44 15 150 20 235 6 85 18 218 26 295 9 77 13 162 10 189 -4 38 -2 54 11 68 27 30 40 21 47 -34z m-134 -28 c0 13 1 13 10 0 13 -21 12 -39 -1 -20 -9 12 -10 11 -6 -8 3 -12 1 -20 -4 -16 -5 3 -9 1 -9 -5 0 -18 20 -23 26 -6 6 13 8 14 15 3 5 -7 9 -17 9 -23 0 -5 -5 -3 -10 5 -9 13 -10 13 -10 0 0 -8 5 -22 10 -30 8 -13 10 -12 11 5 1 11 2 28 1 38 -1 9 3 17 8 17 13 0 13 -21 -5 -170 -16 -141 -48 -524 -49 -585 0 -22 8 -78 18 -124 12 -56 16 -99 11 -130 -11 -73 -12 -85 -14 -103 0 -10 -6 -18 -12 -18 -10 0 -9 91 1 135 5 22 -12 53 -26 48 -8 -3 -21 0 -29 7 -8 6 -19 9 -25 5 -5 -3 -10 2 -10 12 0 15 -2 16 -10 3 -5 -8 -10 -10 -10 -5 0 24 21 33 47 20 58 -30 59 -19 23 250 -11 83 -20 151 -20 153 0 2 -4 1 -9 -2 -4 -3 -12 -34 -15 -68 -9 -76 -22 -62 -29 32 -2 36 -2 53 0 38 2 -16 8 -28 12 -28 4 0 4 26 -1 57 -5 31 -7 64 -5 72 3 9 5 2 6 -16 0 -17 5 -35 11 -38 6 -4 7 6 4 27 -5 27 -4 31 6 21 11 -10 17 -8 32 9 10 12 19 26 19 32 1 6 3 29 5 50 2 22 7 42 12 45 4 3 9 20 10 38 1 18 7 44 12 59 13 33 2 51 -16 27 -13 -17 -13 -17 -12 2 0 11 4 34 7 50 5 20 1 46 -11 78 -21 57 -23 71 -3 37 8 -14 14 -19 14 -10 0 8 -6 26 -14 40 -8 14 -14 30 -14 35 0 6 8 -6 19 -25 11 -19 19 -28 20 -20z m-145 -2217 c-36 -89 -111 -303 -105 -303 3 0 17 29 29 65 13 36 24 65 26 65 1 0 2 -13 0 -30 -1 -16 -37 -99 -80 -184 -84 -165 -96 -217 -63 -268 8 -13 25 -49 37 -80 16 -40 33 -64 55 -77 17 -11 42 -32 54 -46 17 -19 31 -26 47 -23 20 4 22 3 12 -14 -20 -30 -59 -18 -85 27 -6 11 -12 14 -12 7 0 -10 -4 -10 -16 2 -22 23 -37 20 -24 -3 14 -27 13 -31 -8 -31 -31 0 -64 43 -56 74 4 16 2 26 -5 26 -6 0 -11 14 -11 30 0 30 -14 41 -23 18 -3 -7 -6 -1 -6 13 -1 14 -4 29 -8 33 -5 4 -9 12 -9 17 -3 22 -7 22 -14 -1 -8 -25 -8 -25 -9 -2 -1 25 -25 55 -35 45 -3 -4 -6 2 -7 13 -1 15 -3 13 -9 -6 l-8 -25 -1 26 c-1 19 5 29 22 34 17 5 18 8 6 12 -29 7 -39 46 -22 81 9 18 22 32 29 32 8 0 14 8 14 18 0 14 -2 15 -10 2 -5 -8 -10 -10 -10 -4 0 18 12 24 26 13 11 -9 16 -5 24 17 22 61 33 85 36 81 2 -2 -5 -30 -16 -62 -35 -102 -20 -84 20 25 36 95 44 150 19 135 -5 -4 -9 -1 -9 4 0 6 4 11 8 11 5 0 16 15 25 33 15 27 17 28 13 7 -2 -14 -7 -36 -11 -50 -4 -14 18 25 49 85 67 132 66 125 -13 -69 -34 -82 -60 -153 -58 -159 2 -6 22 39 45 99 66 169 86 191 27 29 -19 -53 -30 -93 -26 -90 5 3 26 56 47 118 37 112 92 247 101 247 3 0 2 -8 -2 -17z m1246 -811 c0 -14 2 -14 8 2 5 14 10 16 15 8 4 -7 20 -12 37 -12 16 0 29 -5 29 -12 0 -10 3 -9 9 1 7 11 11 10 20 -5 6 -11 11 -15 11 -9 0 5 7 -1 16 -14 12 -17 19 -20 27 -12 9 9 17 5 30 -11 17 -21 18 -21 13 -3 -6 20 -6 20 9 1 19 -25 19 -13 0 24 -16 31 -32 42 -21 15 10 -27 -1 -16 -24 22 -12 20 -15 31 -7 25 7 -7 16 -10 19 -7 4 5 78 -98 78 -108 0 -2 -19 -9 -41 -16 -33 -10 -43 -10 -49 -1 -4 7 -13 9 -19 5 -7 -4 -18 -1 -26 5 -8 7 -21 10 -29 7 -10 -4 -12 1 -9 16 4 20 3 20 -12 -3 -15 -23 -15 -24 -10 -2 4 12 4 22 0 22 -3 0 -10 -10 -16 -22 -8 -20 -9 -19 -5 8 4 28 1 33 -25 45 -26 10 -32 10 -40 -2 -6 -10 -9 -2 -9 24 0 37 19 45 21 9z"/> <path d="M10860 4033 c0 -4 18 -33 40 -64 l40 -57 -31 -4 c-27 -4 -34 1 -61 39 -16 25 -32 42 -35 39 -3 -2 14 -29 36 -59 23 -29 41 -60 41 -68 1 -21 77 -122 95 -125 8 -1 15 0 15 3 0 4 -25 40 -56 80 -31 41 -53 77 -51 80 3 3 18 -14 33 -36 32 -49 55 -42 29 9 -31 59 4 20 42 -47 45 -81 55 -69 15 19 -42 92 -87 158 -122 179 -16 10 -30 16 -30 12z"/>',
              '</g>',
              '</svg>'
          ));
      }
      string memory svg = Base64.encode(bytes(
          abi.encodePacked(
              imagePart1,
              imagePart2,
              imagePart3
          )
      ));
      return svg;
  }
  
  function buildMetadata(uint256 _tokenId, uint256 maturity) public view returns(string memory) {
      Ape memory currentImage = apes[_tokenId];
      return string(abi.encodePacked(
              'data:application/json;base64,', Base64.encode(bytes(abi.encodePacked(
                          '{"name":"', 
                          currentImage.name,
                          '", "description":"', 
                          currentImage.description,
                          '", "image": "', 
                          'data:image/svg+xml;base64,', 
                          buildImage(_tokenId, maturity),
                          '"}')))));
  }

  function tokenURI(uint256 _tokenId) public view virtual override returns (string memory) {
    require(_exists(_tokenId),"ERC721Metadata: URI query for nonexistent token");
    Ape memory currentEgg = apes[_tokenId];
    if (block.timestamp <= currentEgg.timestamp + 180 days) {
        return buildMetadata(_tokenId, 0);
    }
    else if (block.timestamp > currentEgg.timestamp + 180 days && block.timestamp <= apes[_tokenId].timestamp + 360 days){
        return buildMetadata(_tokenId, 1);
    }
    else if (block.timestamp > currentEgg.timestamp + 360 days && block.timestamp <= apes[_tokenId].timestamp + 540 days){
        return buildMetadata(_tokenId, 2);
    }
    else if (block.timestamp > currentEgg.timestamp + 540 days && block.timestamp <= apes[_tokenId].timestamp + 720 days){
        return buildMetadata(_tokenId, 3);
    }
    else if (block.timestamp > currentEgg.timestamp + 720 days && block.timestamp <= apes[_tokenId].timestamp + 900 days){
        return buildMetadata(_tokenId, 4);
    }
    return buildMetadata(_tokenId, 4);
  }

  function setCost(uint256 _newCost) public onlyOwner() {
    cost = _newCost;
  }

  function withdraw() public payable onlyOwner {
    (bool os, ) = payable(owner()).call{value: address(this).balance}("");
    require(os);
  }
}